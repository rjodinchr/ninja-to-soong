//
// This file has been auto-generated by ninja-to-soong
//
// ******************************
// *** DO NOT MODIFY MANUALLY ***
// ******************************
//
// https://github.com/rjodinchr/ninja-to-soong
//
// CI version, no wildcard generated
//

package {
    default_applicable_licenses: [""],
}

cc_binary {
    name: "mesa_clc_src_compiler_spirv_vtn_bindgen2",
    srcs: ["src/compiler/spirv/vtn_bindgen2.c"],
    cflags: [
        "-DALLOW_KCMP",
        "-DAMD_LLVM_AVAILABLE=1",
        "-DDRAW_LLVM_AVAILABLE=1",
        "-DENABLE_SHADER_CACHE",
        "-DGALLIVM_USE_ORCJIT=0",
        "-DGLAPI_EXPORT_PROTO_ENTRY_POINTS=1",
        "-DHAS_SCHED_GETAFFINITY",
        "-DHAS_SCHED_H",
        "-DHAVE_CET_H",
        "-DHAVE_COMPRESSION",
        "-DHAVE_DIRENT_D_TYPE",
        "-DHAVE_DLADDR",
        "-DHAVE_DLFCN_H",
        "-DHAVE_DL_ITERATE_PHDR",
        "-DHAVE_ENDIAN_H",
        "-DHAVE_FLOCK",
        "-DHAVE_FMEMOPEN",
        "-DHAVE_FUNC_ATTRIBUTE_ALIAS",
        "-DHAVE_FUNC_ATTRIBUTE_COLD",
        "-DHAVE_FUNC_ATTRIBUTE_CONST",
        "-DHAVE_FUNC_ATTRIBUTE_FLATTEN",
        "-DHAVE_FUNC_ATTRIBUTE_FORMAT",
        "-DHAVE_FUNC_ATTRIBUTE_MALLOC",
        "-DHAVE_FUNC_ATTRIBUTE_NORETURN",
        "-DHAVE_FUNC_ATTRIBUTE_OPTIMIZE",
        "-DHAVE_FUNC_ATTRIBUTE_PACKED",
        "-DHAVE_FUNC_ATTRIBUTE_PURE",
        "-DHAVE_FUNC_ATTRIBUTE_RETURNS_NONNULL",
        "-DHAVE_FUNC_ATTRIBUTE_UNUSED",
        "-DHAVE_FUNC_ATTRIBUTE_VISIBILITY",
        "-DHAVE_FUNC_ATTRIBUTE_WARN_UNUSED_RESULT",
        "-DHAVE_FUNC_ATTRIBUTE_WEAK",
        "-DHAVE_GETRANDOM",
        "-DHAVE_GNU_QSORT_R",
        "-DHAVE_ISSIGNALING",
        "-DHAVE_LIBDRM",
        "-DHAVE_LIBUDEV",
        "-DHAVE_LINUX_FUTEX_H",
        "-DHAVE_LINUX_UDMABUF_H",
        "-DHAVE_MEMFD_CREATE",
        "-DHAVE_MKOSTEMP",
        "-DHAVE_OPENGL=1",
        "-DHAVE_OPENGL_ES_1=1",
        "-DHAVE_OPENGL_ES_2=1",
        "-DHAVE_OPENMP",
        "-DHAVE_POSIX_FALLOCATE",
        "-DHAVE_POSIX_MEMALIGN",
        "-DHAVE_PROGRAM_INVOCATION_NAME",
        "-DHAVE_PTHREAD",
        "-DHAVE_PTHREAD_SETAFFINITY",
        "-DHAVE_RANDOM_R",
        "-DHAVE_REALLOCARRAY",
        "-DHAVE_SECURE_GETENV",
        "-DHAVE_SPIRV_TOOLS",
        "-DHAVE_STRTOD_L",
        "-DHAVE_STRTOF",
        "-DHAVE_STRTOK_R",
        "-DHAVE_STRUCT_TIMESPEC",
        "-DHAVE_SYSCONF",
        "-DHAVE_SYS_INOTIFY_H",
        "-DHAVE_SYS_SHM_H",
        "-DHAVE_UINT128",
        "-DHAVE_VALGRIND",
        "-DHAVE_ZLIB",
        "-DHAVE_ZSTD",
        "-DHAVE___BUILTIN_ADD_OVERFLOW",
        "-DHAVE___BUILTIN_ADD_OVERFLOW_P",
        "-DHAVE___BUILTIN_BSWAP32",
        "-DHAVE___BUILTIN_BSWAP64",
        "-DHAVE___BUILTIN_CLZ",
        "-DHAVE___BUILTIN_CLZLL",
        "-DHAVE___BUILTIN_CTZ",
        "-DHAVE___BUILTIN_EXPECT",
        "-DHAVE___BUILTIN_FFS",
        "-DHAVE___BUILTIN_FFSLL",
        "-DHAVE___BUILTIN_IA32_CLFLUSHOPT",
        "-DHAVE___BUILTIN_POPCOUNT",
        "-DHAVE___BUILTIN_POPCOUNTLL",
        "-DHAVE___BUILTIN_SUB_OVERFLOW_P",
        "-DHAVE___BUILTIN_TYPES_COMPATIBLE_P",
        "-DHAVE___BUILTIN_UNREACHABLE",
        "-DLLVM_IS_SHARED=1",
        "-DMAJOR_IN_SYSMACROS",
        "-DMESA_DEBUG=0",
        "-DMESA_LLVM_VERSION_STRING=\"19.1.7\"",
        "-DMESA_SYSTEM_HAS_KMS_DRM=1",
        "-DNDEBUG",
        "-DPACKAGE_BUGREPORT=\"https://gitlab.freedesktop.org/mesa/mesa/-/issues\"",
        "-DPACKAGE_VERSION=\"25.3.0-devel\"",
        "-DTHREAD_SANITIZER=0",
        "-DUSE_GCC_ATOMIC_BUILTINS",
        "-DUSE_LIBELF",
        "-DUSE_LIBGLVND=0",
        "-DUSE_SSE41",
        "-DVIDEO_CODEC_AV1DEC=1",
        "-DVIDEO_CODEC_AV1ENC=1",
        "-DVIDEO_CODEC_H264DEC=0",
        "-DVIDEO_CODEC_H264ENC=0",
        "-DVIDEO_CODEC_H265DEC=0",
        "-DVIDEO_CODEC_H265ENC=0",
        "-DVIDEO_CODEC_VC1DEC=0",
        "-DVIDEO_CODEC_VP9DEC=1",
        "-D_FILE_OFFSET_BITS=64",
        "-D_GNU_SOURCE",
        "-D__STDC_CONSTANT_MACROS",
        "-D__STDC_FORMAT_MACROS",
        "-D__STDC_LIMIT_MACROS",
        "-Wall",
        "-Werror=empty-body",
        "-Werror=format",
        "-Werror=implicit-function-declaration",
        "-Werror=incompatible-pointer-types",
        "-Werror=int-conversion",
        "-Werror=missing-prototypes",
        "-Werror=pointer-arith",
        "-Werror=return-type",
        "-Werror=vla",
        "-Wformat-security",
        "-Wimplicit-fallthrough",
        "-Winvalid-pch",
        "-Wmisleading-indentation",
        "-Wno-error=maybe-uninitialized",
        "-Wno-format-truncation",
        "-Wno-missing-field-initializers",
        "-Wno-nonnull-compare",
        "-Wno-override-init",
        "-Wno-unknown-pragmas",
        "-Wno-unused-but-set-variable",
        "-Wno-unused-function",
        "-Wno-unused-variable",
    ],
    shared_libs: [
        "_usr_lib_x86_64-linux-gnu_libdrm_so",
        "_usr_lib_x86_64-linux-gnu_libz_so",
        "_usr_lib_x86_64-linux-gnu_libzstd_so",
    ],
    static_libs: [
        "_usr_lib_x86_64-linux-gnu_libSPIRV-Tools-link_a",
        "_usr_lib_x86_64-linux-gnu_libSPIRV-Tools-opt_a",
        "_usr_lib_x86_64-linux-gnu_libSPIRV-Tools_a",
        "mesa_clc_src_c11_impl_libmesa_util_c11_a",
        "mesa_clc_src_compiler_libcompiler_a",
        "mesa_clc_src_compiler_nir_libnir_a",
        "mesa_clc_src_compiler_spirv_libvtn_a",
        "mesa_clc_src_util_blake3_libblake3_a",
        "mesa_clc_src_util_libmesa_util_a",
        "mesa_clc_src_util_libmesa_util_simd_a",
    ],
    local_include_dirs: [
        "/usr/include/libdrm",
        "/usr/include/valgrind",
        "include",
        "src",
        "src/compiler",
        "src/compiler/nir",
        "src/compiler/spirv",
    ],
    generated_headers: [
        "mesa_clc_src_compiler_builtin_types_h",
        "mesa_clc_src_compiler_ir_expression_operation_h",
        "mesa_clc_src_compiler_nir_nir_builder_opcodes_h",
        "mesa_clc_src_compiler_nir_nir_intrinsics_h",
        "mesa_clc_src_compiler_nir_nir_intrinsics_indices_h",
        "mesa_clc_src_compiler_nir_nir_opcodes_h",
        "mesa_clc_src_compiler_spirv_spirv_info_h",
        "mesa_clc_src_compiler_spirv_vtn_generator_ids_h",
        "mesa_clc_src_util_format_u_format_gen_h",
        "mesa_clc_src_util_format_u_format_pack_h",
        "mesa_clc_src_util_shader_stats_h",
    ],
}

cc_library_static {
    name: "mesa_clc_src_util_libmesa_util_simd_a",
    srcs: ["src/util/streaming-load-memcpy.c"],
    cflags: [
        "-DALLOW_KCMP",
        "-DAMD_LLVM_AVAILABLE=1",
        "-DDRAW_LLVM_AVAILABLE=1",
        "-DENABLE_SHADER_CACHE",
        "-DGALLIVM_USE_ORCJIT=0",
        "-DGLAPI_EXPORT_PROTO_ENTRY_POINTS=1",
        "-DHAS_SCHED_GETAFFINITY",
        "-DHAS_SCHED_H",
        "-DHAVE_CET_H",
        "-DHAVE_COMPRESSION",
        "-DHAVE_DIRENT_D_TYPE",
        "-DHAVE_DLADDR",
        "-DHAVE_DLFCN_H",
        "-DHAVE_DL_ITERATE_PHDR",
        "-DHAVE_ENDIAN_H",
        "-DHAVE_FLOCK",
        "-DHAVE_FMEMOPEN",
        "-DHAVE_FUNC_ATTRIBUTE_ALIAS",
        "-DHAVE_FUNC_ATTRIBUTE_COLD",
        "-DHAVE_FUNC_ATTRIBUTE_CONST",
        "-DHAVE_FUNC_ATTRIBUTE_FLATTEN",
        "-DHAVE_FUNC_ATTRIBUTE_FORMAT",
        "-DHAVE_FUNC_ATTRIBUTE_MALLOC",
        "-DHAVE_FUNC_ATTRIBUTE_NORETURN",
        "-DHAVE_FUNC_ATTRIBUTE_OPTIMIZE",
        "-DHAVE_FUNC_ATTRIBUTE_PACKED",
        "-DHAVE_FUNC_ATTRIBUTE_PURE",
        "-DHAVE_FUNC_ATTRIBUTE_RETURNS_NONNULL",
        "-DHAVE_FUNC_ATTRIBUTE_UNUSED",
        "-DHAVE_FUNC_ATTRIBUTE_VISIBILITY",
        "-DHAVE_FUNC_ATTRIBUTE_WARN_UNUSED_RESULT",
        "-DHAVE_FUNC_ATTRIBUTE_WEAK",
        "-DHAVE_GETRANDOM",
        "-DHAVE_GNU_QSORT_R",
        "-DHAVE_ISSIGNALING",
        "-DHAVE_LIBDRM",
        "-DHAVE_LIBUDEV",
        "-DHAVE_LINUX_FUTEX_H",
        "-DHAVE_LINUX_UDMABUF_H",
        "-DHAVE_MEMFD_CREATE",
        "-DHAVE_MKOSTEMP",
        "-DHAVE_OPENGL=1",
        "-DHAVE_OPENGL_ES_1=1",
        "-DHAVE_OPENGL_ES_2=1",
        "-DHAVE_OPENMP",
        "-DHAVE_POSIX_FALLOCATE",
        "-DHAVE_POSIX_MEMALIGN",
        "-DHAVE_PROGRAM_INVOCATION_NAME",
        "-DHAVE_PTHREAD",
        "-DHAVE_PTHREAD_SETAFFINITY",
        "-DHAVE_RANDOM_R",
        "-DHAVE_REALLOCARRAY",
        "-DHAVE_SECURE_GETENV",
        "-DHAVE_SPIRV_TOOLS",
        "-DHAVE_STRTOD_L",
        "-DHAVE_STRTOF",
        "-DHAVE_STRTOK_R",
        "-DHAVE_STRUCT_TIMESPEC",
        "-DHAVE_SYSCONF",
        "-DHAVE_SYS_INOTIFY_H",
        "-DHAVE_SYS_SHM_H",
        "-DHAVE_UINT128",
        "-DHAVE_VALGRIND",
        "-DHAVE_ZLIB",
        "-DHAVE_ZSTD",
        "-DHAVE___BUILTIN_ADD_OVERFLOW",
        "-DHAVE___BUILTIN_ADD_OVERFLOW_P",
        "-DHAVE___BUILTIN_BSWAP32",
        "-DHAVE___BUILTIN_BSWAP64",
        "-DHAVE___BUILTIN_CLZ",
        "-DHAVE___BUILTIN_CLZLL",
        "-DHAVE___BUILTIN_CTZ",
        "-DHAVE___BUILTIN_EXPECT",
        "-DHAVE___BUILTIN_FFS",
        "-DHAVE___BUILTIN_FFSLL",
        "-DHAVE___BUILTIN_IA32_CLFLUSHOPT",
        "-DHAVE___BUILTIN_POPCOUNT",
        "-DHAVE___BUILTIN_POPCOUNTLL",
        "-DHAVE___BUILTIN_SUB_OVERFLOW_P",
        "-DHAVE___BUILTIN_TYPES_COMPATIBLE_P",
        "-DHAVE___BUILTIN_UNREACHABLE",
        "-DLLVM_IS_SHARED=1",
        "-DMAJOR_IN_SYSMACROS",
        "-DMESA_DEBUG=0",
        "-DMESA_LLVM_VERSION_STRING=\"19.1.7\"",
        "-DMESA_SYSTEM_HAS_KMS_DRM=1",
        "-DNDEBUG",
        "-DPACKAGE_BUGREPORT=\"https://gitlab.freedesktop.org/mesa/mesa/-/issues\"",
        "-DPACKAGE_VERSION=\"25.3.0-devel\"",
        "-DTHREAD_SANITIZER=0",
        "-DUSE_GCC_ATOMIC_BUILTINS",
        "-DUSE_LIBELF",
        "-DUSE_LIBGLVND=0",
        "-DUSE_SSE41",
        "-DVIDEO_CODEC_AV1DEC=1",
        "-DVIDEO_CODEC_AV1ENC=1",
        "-DVIDEO_CODEC_H264DEC=0",
        "-DVIDEO_CODEC_H264ENC=0",
        "-DVIDEO_CODEC_H265DEC=0",
        "-DVIDEO_CODEC_H265ENC=0",
        "-DVIDEO_CODEC_VC1DEC=0",
        "-DVIDEO_CODEC_VP9DEC=1",
        "-D_FILE_OFFSET_BITS=64",
        "-D_GNU_SOURCE",
        "-D__STDC_CONSTANT_MACROS",
        "-D__STDC_FORMAT_MACROS",
        "-D__STDC_LIMIT_MACROS",
        "-Wall",
        "-Werror=empty-body",
        "-Werror=format",
        "-Werror=implicit-function-declaration",
        "-Werror=incompatible-pointer-types",
        "-Werror=int-conversion",
        "-Werror=missing-prototypes",
        "-Werror=pointer-arith",
        "-Werror=return-type",
        "-Werror=vla",
        "-Wformat-security",
        "-Wimplicit-fallthrough",
        "-Winvalid-pch",
        "-Wmisleading-indentation",
        "-Wno-error=maybe-uninitialized",
        "-Wno-format-truncation",
        "-Wno-missing-field-initializers",
        "-Wno-nonnull-compare",
        "-Wno-unknown-pragmas",
        "-Wno-unused-but-set-variable",
        "-Wno-unused-function",
        "-Wno-unused-variable",
    ],
    local_include_dirs: [
        "include",
        "src",
        "src/util",
    ],
}

cc_library_static {
    name: "mesa_clc_src_util_libmesa_util_a",
    srcs: [
        "src/util/anon_file.c",
        "src/util/bitscan.c",
        "src/util/blob.c",
        "src/util/build_id.c",
        "src/util/cnd_monotonic.c",
        "src/util/compress.c",
        "src/util/crc32.c",
        "src/util/dag.c",
        "src/util/disk_cache.c",
        "src/util/disk_cache_os.c",
        "src/util/double.c",
        "src/util/fast_idiv_by_const.c",
        "src/util/float8.c",
        "src/util/format/u_format.c",
        "src/util/format/u_format_bptc.c",
        "src/util/format/u_format_etc.c",
        "src/util/format/u_format_fxt1.c",
        "src/util/format/u_format_latc.c",
        "src/util/format/u_format_other.c",
        "src/util/format/u_format_rgtc.c",
        "src/util/format/u_format_s3tc.c",
        "src/util/format/u_format_tests.c",
        "src/util/format/u_format_unpack_neon.c",
        "src/util/format/u_format_yuv.c",
        "src/util/format/u_format_zs.c",
        "src/util/fossilize_db.c",
        "src/util/futex.c",
        "src/util/half_float.c",
        "src/util/hash_table.c",
        "src/util/helpers.c",
        "src/util/log.c",
        "src/util/lut.c",
        "src/util/memstream.c",
        "src/util/mesa-blake3.c",
        "src/util/mesa-sha1.c",
        "src/util/mesa_cache_db.c",
        "src/util/mesa_cache_db_multipart.c",
        "src/util/os_file.c",
        "src/util/os_file_notify.c",
        "src/util/os_memory_fd.c",
        "src/util/os_misc.c",
        "src/util/os_socket.c",
        "src/util/os_time.c",
        "src/util/pb_slab.c",
        "src/util/perf/u_trace.c",
        "src/util/ralloc.c",
        "src/util/rand_xor.c",
        "src/util/range_minimum_query.c",
        "src/util/rb_tree.c",
        "src/util/register_allocate.c",
        "src/util/rgtc.c",
        "src/util/rwlock.c",
        "src/util/set.c",
        "src/util/sha1/sha1.c",
        "src/util/simple_mtx.c",
        "src/util/slab.c",
        "src/util/softfloat.c",
        "src/util/sparse_array.c",
        "src/util/string_buffer.c",
        "src/util/strndup.c",
        "src/util/strtod.c",
        "src/util/texcompress_astc_luts.cpp",
        "src/util/texcompress_astc_luts_wrap.cpp",
        "src/util/thread_sched.c",
        "src/util/u_atomic.c",
        "src/util/u_call_once.c",
        "src/util/u_cpu_detect.c",
        "src/util/u_debug.c",
        "src/util/u_debug_memory.c",
        "src/util/u_debug_stack.c",
        "src/util/u_debug_symbol.c",
        "src/util/u_dl.c",
        "src/util/u_dynarray.c",
        "src/util/u_hash_table.c",
        "src/util/u_idalloc.c",
        "src/util/u_math.c",
        "src/util/u_mm.c",
        "src/util/u_printf.c",
        "src/util/u_process.c",
        "src/util/u_qsort.cpp",
        "src/util/u_queue.c",
        "src/util/u_range_remap.c",
        "src/util/u_string.c",
        "src/util/u_sync_provider.c",
        "src/util/u_thread.c",
        "src/util/u_vector.c",
        "src/util/u_worklist.c",
        "src/util/vl_zscan_data.c",
        "src/util/vma.c",
    ],
    cflags: [
        "-DALLOW_KCMP",
        "-DAMD_LLVM_AVAILABLE=1",
        "-DDRAW_LLVM_AVAILABLE=1",
        "-DENABLE_SHADER_CACHE",
        "-DGALLIVM_USE_ORCJIT=0",
        "-DGLAPI_EXPORT_PROTO_ENTRY_POINTS=1",
        "-DHAS_SCHED_GETAFFINITY",
        "-DHAS_SCHED_H",
        "-DHAVE_CET_H",
        "-DHAVE_COMPRESSION",
        "-DHAVE_DIRENT_D_TYPE",
        "-DHAVE_DLADDR",
        "-DHAVE_DLFCN_H",
        "-DHAVE_DL_ITERATE_PHDR",
        "-DHAVE_ENDIAN_H",
        "-DHAVE_FLOCK",
        "-DHAVE_FMEMOPEN",
        "-DHAVE_FUNC_ATTRIBUTE_ALIAS",
        "-DHAVE_FUNC_ATTRIBUTE_COLD",
        "-DHAVE_FUNC_ATTRIBUTE_CONST",
        "-DHAVE_FUNC_ATTRIBUTE_FLATTEN",
        "-DHAVE_FUNC_ATTRIBUTE_FORMAT",
        "-DHAVE_FUNC_ATTRIBUTE_MALLOC",
        "-DHAVE_FUNC_ATTRIBUTE_NORETURN",
        "-DHAVE_FUNC_ATTRIBUTE_OPTIMIZE",
        "-DHAVE_FUNC_ATTRIBUTE_PACKED",
        "-DHAVE_FUNC_ATTRIBUTE_PURE",
        "-DHAVE_FUNC_ATTRIBUTE_RETURNS_NONNULL",
        "-DHAVE_FUNC_ATTRIBUTE_UNUSED",
        "-DHAVE_FUNC_ATTRIBUTE_VISIBILITY",
        "-DHAVE_FUNC_ATTRIBUTE_WARN_UNUSED_RESULT",
        "-DHAVE_FUNC_ATTRIBUTE_WEAK",
        "-DHAVE_GETRANDOM",
        "-DHAVE_GNU_QSORT_R",
        "-DHAVE_ISSIGNALING",
        "-DHAVE_LIBDRM",
        "-DHAVE_LIBUDEV",
        "-DHAVE_LINUX_FUTEX_H",
        "-DHAVE_LINUX_UDMABUF_H",
        "-DHAVE_MEMFD_CREATE",
        "-DHAVE_MKOSTEMP",
        "-DHAVE_OPENGL=1",
        "-DHAVE_OPENGL_ES_1=1",
        "-DHAVE_OPENGL_ES_2=1",
        "-DHAVE_OPENMP",
        "-DHAVE_POSIX_FALLOCATE",
        "-DHAVE_POSIX_MEMALIGN",
        "-DHAVE_PROGRAM_INVOCATION_NAME",
        "-DHAVE_PTHREAD",
        "-DHAVE_PTHREAD_SETAFFINITY",
        "-DHAVE_RANDOM_R",
        "-DHAVE_REALLOCARRAY",
        "-DHAVE_SECURE_GETENV",
        "-DHAVE_SPIRV_TOOLS",
        "-DHAVE_STRTOD_L",
        "-DHAVE_STRTOF",
        "-DHAVE_STRTOK_R",
        "-DHAVE_STRUCT_TIMESPEC",
        "-DHAVE_SYSCONF",
        "-DHAVE_SYS_INOTIFY_H",
        "-DHAVE_SYS_SHM_H",
        "-DHAVE_UINT128",
        "-DHAVE_VALGRIND",
        "-DHAVE_ZLIB",
        "-DHAVE_ZSTD",
        "-DHAVE___BUILTIN_ADD_OVERFLOW",
        "-DHAVE___BUILTIN_ADD_OVERFLOW_P",
        "-DHAVE___BUILTIN_BSWAP32",
        "-DHAVE___BUILTIN_BSWAP64",
        "-DHAVE___BUILTIN_CLZ",
        "-DHAVE___BUILTIN_CLZLL",
        "-DHAVE___BUILTIN_CTZ",
        "-DHAVE___BUILTIN_EXPECT",
        "-DHAVE___BUILTIN_FFS",
        "-DHAVE___BUILTIN_FFSLL",
        "-DHAVE___BUILTIN_IA32_CLFLUSHOPT",
        "-DHAVE___BUILTIN_POPCOUNT",
        "-DHAVE___BUILTIN_POPCOUNTLL",
        "-DHAVE___BUILTIN_SUB_OVERFLOW_P",
        "-DHAVE___BUILTIN_TYPES_COMPATIBLE_P",
        "-DHAVE___BUILTIN_UNREACHABLE",
        "-DLLVM_IS_SHARED=1",
        "-DMAJOR_IN_SYSMACROS",
        "-DMESA_DEBUG=0",
        "-DMESA_LLVM_VERSION_STRING=\"19.1.7\"",
        "-DMESA_SYSTEM_HAS_KMS_DRM=1",
        "-DNDEBUG",
        "-DPACKAGE_BUGREPORT=\"https://gitlab.freedesktop.org/mesa/mesa/-/issues\"",
        "-DPACKAGE_VERSION=\"25.3.0-devel\"",
        "-DTHREAD_SANITIZER=0",
        "-DUSE_GCC_ATOMIC_BUILTINS",
        "-DUSE_LIBELF",
        "-DUSE_LIBGLVND=0",
        "-DUSE_SSE41",
        "-DVIDEO_CODEC_AV1DEC=1",
        "-DVIDEO_CODEC_AV1ENC=1",
        "-DVIDEO_CODEC_H264DEC=0",
        "-DVIDEO_CODEC_H264ENC=0",
        "-DVIDEO_CODEC_H265DEC=0",
        "-DVIDEO_CODEC_H265ENC=0",
        "-DVIDEO_CODEC_VC1DEC=0",
        "-DVIDEO_CODEC_VP9DEC=1",
        "-D_FILE_OFFSET_BITS=64",
        "-D_GNU_SOURCE",
        "-D__STDC_CONSTANT_MACROS",
        "-D__STDC_FORMAT_MACROS",
        "-D__STDC_LIMIT_MACROS",
        "-Wall",
        "-Werror=empty-body",
        "-Werror=format",
        "-Werror=implicit-function-declaration",
        "-Werror=incompatible-pointer-types",
        "-Werror=int-conversion",
        "-Werror=missing-prototypes",
        "-Werror=pointer-arith",
        "-Werror=return-type",
        "-Werror=vla",
        "-Wformat-security",
        "-Wimplicit-fallthrough",
        "-Winvalid-pch",
        "-Wmisleading-indentation",
        "-Wno-error=maybe-uninitialized",
        "-Wno-format-truncation",
        "-Wno-missing-field-initializers",
        "-Wno-non-virtual-dtor",
        "-Wno-nonnull-compare",
        "-Wno-unknown-pragmas",
        "-Wno-unused-but-set-variable",
        "-Wno-unused-function",
        "-Wno-unused-variable",
    ],
    local_include_dirs: [
        "/usr/include/libdrm",
        "/usr/include/valgrind",
        "include",
        "src",
        "src/util",
        "src/util/format",
    ],
    generated_sources: [
        "mesa_clc_src_util_format_srgb_c",
        "mesa_clc_src_util_format_u_format_table_c",
    ],
    generated_headers: [
        "mesa_clc_src_util_format_u_format_gen_h",
        "mesa_clc_src_util_format_u_format_pack_h",
        "mesa_clc_src_util_shader_stats_h",
    ],
}

cc_genrule {
    name: "mesa_clc_src_util_shader_stats_h",
    cmd: "python3 $(location) $(location src/util/shader_stats.rnc) $(location src/util/shader_stats.xml) > $(location src/util/shader_stats.h)",
    srcs: [
        "src/util/shader_stats.rnc",
        "src/util/shader_stats.xml",
    ],
    out: ["src/util/shader_stats.h"],
    tool_files: ["src/util/process_shader_stats.py"],
}

genrule {
    name: "mesa_clc_src_util_format_u_format_pack_py_cp",
    cmd: "cp $(in) $(out)",
    srcs: ["src/util/format/u_format_pack.py"],
    out: ["u_format_pack.py"],
}

genrule {
    name: "mesa_clc_src_util_format_u_format_parse_py_cp",
    cmd: "cp $(in) $(out)",
    srcs: ["src/util/format/u_format_parse.py"],
    out: ["u_format_parse.py"],
}

python_binary_host {
    name: "mesa_clc_src_util_format_u_format_table_py",
    main: "src/util/format/u_format_table.py",
    srcs: [
        ":mesa_clc_src_util_format_u_format_pack_py_cp",
        ":mesa_clc_src_util_format_u_format_parse_py_cp",
        "src/util/format/u_format_table.py",
    ],
}

cc_genrule {
    name: "mesa_clc_src_util_format_u_format_pack_h",
    cmd: "python3 $(location) $(location src/util/format/u_format.yaml) --header > $(location src/util/format/u_format_pack.h)",
    srcs: [
        "src/util/format/u_format.yaml",
        "src/util/format/u_format_pack.py",
        "src/util/format/u_format_parse.py",
    ],
    out: ["src/util/format/u_format_pack.h"],
    tools: ["mesa_clc_src_util_format_u_format_table_py"],
}

cc_genrule {
    name: "mesa_clc_src_util_format_u_format_gen_h",
    cmd: "python3 $(location) $(location src/util/format/u_format.yaml) --enums > $(location src/util/format/u_format_gen.h)",
    srcs: [
        "src/util/format/u_format.yaml",
        "src/util/format/u_format_pack.py",
        "src/util/format/u_format_parse.py",
    ],
    out: ["src/util/format/u_format_gen.h"],
    tools: ["mesa_clc_src_util_format_u_format_table_py"],
}

cc_genrule {
    name: "mesa_clc_src_util_format_srgb_c",
    cmd: "python3 $(location) > $(location src/util/format_srgb.c)",
    out: ["src/util/format_srgb.c"],
    tool_files: ["src/util/format_srgb.py"],
}

cc_genrule {
    name: "mesa_clc_src_util_format_u_format_table_c",
    cmd: "python3 $(location) $(location src/util/format/u_format.yaml) > $(location src/util/format/u_format_table.c)",
    srcs: [
        "src/util/format/u_format.yaml",
        "src/util/format/u_format_pack.py",
        "src/util/format/u_format_parse.py",
    ],
    out: ["src/util/format/u_format_table.c"],
    tools: ["mesa_clc_src_util_format_u_format_table_py"],
}

cc_library_static {
    name: "mesa_clc_src_util_blake3_libblake3_a",
    srcs: [
        "src/util/blake3/blake3.c",
        "src/util/blake3/blake3_avx2_x86-64_unix.S",
        "src/util/blake3/blake3_avx512_x86-64_unix.S",
        "src/util/blake3/blake3_dispatch.c",
        "src/util/blake3/blake3_portable.c",
        "src/util/blake3/blake3_sse2_x86-64_unix.S",
        "src/util/blake3/blake3_sse41_x86-64_unix.S",
    ],
    cflags: [
        "-DALLOW_KCMP",
        "-DAMD_LLVM_AVAILABLE=1",
        "-DDRAW_LLVM_AVAILABLE=1",
        "-DENABLE_SHADER_CACHE",
        "-DGALLIVM_USE_ORCJIT=0",
        "-DGLAPI_EXPORT_PROTO_ENTRY_POINTS=1",
        "-DHAS_SCHED_GETAFFINITY",
        "-DHAS_SCHED_H",
        "-DHAVE_CET_H",
        "-DHAVE_COMPRESSION",
        "-DHAVE_DIRENT_D_TYPE",
        "-DHAVE_DLADDR",
        "-DHAVE_DLFCN_H",
        "-DHAVE_DL_ITERATE_PHDR",
        "-DHAVE_ENDIAN_H",
        "-DHAVE_FLOCK",
        "-DHAVE_FMEMOPEN",
        "-DHAVE_FUNC_ATTRIBUTE_ALIAS",
        "-DHAVE_FUNC_ATTRIBUTE_COLD",
        "-DHAVE_FUNC_ATTRIBUTE_CONST",
        "-DHAVE_FUNC_ATTRIBUTE_FLATTEN",
        "-DHAVE_FUNC_ATTRIBUTE_FORMAT",
        "-DHAVE_FUNC_ATTRIBUTE_MALLOC",
        "-DHAVE_FUNC_ATTRIBUTE_NORETURN",
        "-DHAVE_FUNC_ATTRIBUTE_OPTIMIZE",
        "-DHAVE_FUNC_ATTRIBUTE_PACKED",
        "-DHAVE_FUNC_ATTRIBUTE_PURE",
        "-DHAVE_FUNC_ATTRIBUTE_RETURNS_NONNULL",
        "-DHAVE_FUNC_ATTRIBUTE_UNUSED",
        "-DHAVE_FUNC_ATTRIBUTE_VISIBILITY",
        "-DHAVE_FUNC_ATTRIBUTE_WARN_UNUSED_RESULT",
        "-DHAVE_FUNC_ATTRIBUTE_WEAK",
        "-DHAVE_GETRANDOM",
        "-DHAVE_GNU_QSORT_R",
        "-DHAVE_ISSIGNALING",
        "-DHAVE_LIBDRM",
        "-DHAVE_LIBUDEV",
        "-DHAVE_LINUX_FUTEX_H",
        "-DHAVE_LINUX_UDMABUF_H",
        "-DHAVE_MEMFD_CREATE",
        "-DHAVE_MKOSTEMP",
        "-DHAVE_OPENGL=1",
        "-DHAVE_OPENGL_ES_1=1",
        "-DHAVE_OPENGL_ES_2=1",
        "-DHAVE_OPENMP",
        "-DHAVE_POSIX_FALLOCATE",
        "-DHAVE_POSIX_MEMALIGN",
        "-DHAVE_PROGRAM_INVOCATION_NAME",
        "-DHAVE_PTHREAD",
        "-DHAVE_PTHREAD_SETAFFINITY",
        "-DHAVE_RANDOM_R",
        "-DHAVE_REALLOCARRAY",
        "-DHAVE_SECURE_GETENV",
        "-DHAVE_SPIRV_TOOLS",
        "-DHAVE_STRTOD_L",
        "-DHAVE_STRTOF",
        "-DHAVE_STRTOK_R",
        "-DHAVE_STRUCT_TIMESPEC",
        "-DHAVE_SYSCONF",
        "-DHAVE_SYS_INOTIFY_H",
        "-DHAVE_SYS_SHM_H",
        "-DHAVE_UINT128",
        "-DHAVE_VALGRIND",
        "-DHAVE_ZLIB",
        "-DHAVE_ZSTD",
        "-DHAVE___BUILTIN_ADD_OVERFLOW",
        "-DHAVE___BUILTIN_ADD_OVERFLOW_P",
        "-DHAVE___BUILTIN_BSWAP32",
        "-DHAVE___BUILTIN_BSWAP64",
        "-DHAVE___BUILTIN_CLZ",
        "-DHAVE___BUILTIN_CLZLL",
        "-DHAVE___BUILTIN_CTZ",
        "-DHAVE___BUILTIN_EXPECT",
        "-DHAVE___BUILTIN_FFS",
        "-DHAVE___BUILTIN_FFSLL",
        "-DHAVE___BUILTIN_IA32_CLFLUSHOPT",
        "-DHAVE___BUILTIN_POPCOUNT",
        "-DHAVE___BUILTIN_POPCOUNTLL",
        "-DHAVE___BUILTIN_SUB_OVERFLOW_P",
        "-DHAVE___BUILTIN_TYPES_COMPATIBLE_P",
        "-DHAVE___BUILTIN_UNREACHABLE",
        "-DLLVM_IS_SHARED=1",
        "-DMAJOR_IN_SYSMACROS",
        "-DMESA_DEBUG=0",
        "-DMESA_LLVM_VERSION_STRING=\"19.1.7\"",
        "-DMESA_SYSTEM_HAS_KMS_DRM=1",
        "-DNDEBUG",
        "-DPACKAGE_BUGREPORT=\"https://gitlab.freedesktop.org/mesa/mesa/-/issues\"",
        "-DPACKAGE_VERSION=\"25.3.0-devel\"",
        "-DTHREAD_SANITIZER=0",
        "-DUSE_GCC_ATOMIC_BUILTINS",
        "-DUSE_LIBELF",
        "-DUSE_LIBGLVND=0",
        "-DUSE_SSE41",
        "-DVIDEO_CODEC_AV1DEC=1",
        "-DVIDEO_CODEC_AV1ENC=1",
        "-DVIDEO_CODEC_H264DEC=0",
        "-DVIDEO_CODEC_H264ENC=0",
        "-DVIDEO_CODEC_H265DEC=0",
        "-DVIDEO_CODEC_H265ENC=0",
        "-DVIDEO_CODEC_VC1DEC=0",
        "-DVIDEO_CODEC_VP9DEC=1",
        "-D_FILE_OFFSET_BITS=64",
        "-D_GNU_SOURCE",
        "-D__STDC_CONSTANT_MACROS",
        "-D__STDC_FORMAT_MACROS",
        "-D__STDC_LIMIT_MACROS",
        "-Wall",
        "-Werror=empty-body",
        "-Werror=format",
        "-Werror=implicit-function-declaration",
        "-Werror=incompatible-pointer-types",
        "-Werror=int-conversion",
        "-Werror=missing-prototypes",
        "-Werror=return-type",
        "-Wformat-security",
        "-Wimplicit-fallthrough",
        "-Winvalid-pch",
        "-Wmisleading-indentation",
        "-Wno-error",
        "-Wno-error=maybe-uninitialized",
        "-Wno-format-truncation",
        "-Wno-missing-field-initializers",
        "-Wno-nonnull-compare",
        "-Wno-unknown-pragmas",
        "-Wno-unused-but-set-variable",
        "-Wno-unused-function",
        "-Wno-unused-variable",
    ],
    local_include_dirs: ["src/util/blake3"],
}

cc_library_static {
    name: "mesa_clc_src_compiler_spirv_libvtn_a",
    srcs: [
        "src/compiler/spirv/gl_spirv.c",
        "src/compiler/spirv/spirv_to_nir.c",
        "src/compiler/spirv/vtn_alu.c",
        "src/compiler/spirv/vtn_amd.c",
        "src/compiler/spirv/vtn_cfg.c",
        "src/compiler/spirv/vtn_cmat.c",
        "src/compiler/spirv/vtn_debug.c",
        "src/compiler/spirv/vtn_glsl450.c",
        "src/compiler/spirv/vtn_opencl.c",
        "src/compiler/spirv/vtn_structured_cfg.c",
        "src/compiler/spirv/vtn_subgroup.c",
        "src/compiler/spirv/vtn_variables.c",
    ],
    cflags: [
        "-DALLOW_KCMP",
        "-DAMD_LLVM_AVAILABLE=1",
        "-DDRAW_LLVM_AVAILABLE=1",
        "-DENABLE_SHADER_CACHE",
        "-DGALLIVM_USE_ORCJIT=0",
        "-DGLAPI_EXPORT_PROTO_ENTRY_POINTS=1",
        "-DHAS_SCHED_GETAFFINITY",
        "-DHAS_SCHED_H",
        "-DHAVE_CET_H",
        "-DHAVE_COMPRESSION",
        "-DHAVE_DIRENT_D_TYPE",
        "-DHAVE_DLADDR",
        "-DHAVE_DLFCN_H",
        "-DHAVE_DL_ITERATE_PHDR",
        "-DHAVE_ENDIAN_H",
        "-DHAVE_FLOCK",
        "-DHAVE_FMEMOPEN",
        "-DHAVE_FUNC_ATTRIBUTE_ALIAS",
        "-DHAVE_FUNC_ATTRIBUTE_COLD",
        "-DHAVE_FUNC_ATTRIBUTE_CONST",
        "-DHAVE_FUNC_ATTRIBUTE_FLATTEN",
        "-DHAVE_FUNC_ATTRIBUTE_FORMAT",
        "-DHAVE_FUNC_ATTRIBUTE_MALLOC",
        "-DHAVE_FUNC_ATTRIBUTE_NORETURN",
        "-DHAVE_FUNC_ATTRIBUTE_OPTIMIZE",
        "-DHAVE_FUNC_ATTRIBUTE_PACKED",
        "-DHAVE_FUNC_ATTRIBUTE_PURE",
        "-DHAVE_FUNC_ATTRIBUTE_RETURNS_NONNULL",
        "-DHAVE_FUNC_ATTRIBUTE_UNUSED",
        "-DHAVE_FUNC_ATTRIBUTE_VISIBILITY",
        "-DHAVE_FUNC_ATTRIBUTE_WARN_UNUSED_RESULT",
        "-DHAVE_FUNC_ATTRIBUTE_WEAK",
        "-DHAVE_GETRANDOM",
        "-DHAVE_GNU_QSORT_R",
        "-DHAVE_ISSIGNALING",
        "-DHAVE_LIBDRM",
        "-DHAVE_LIBUDEV",
        "-DHAVE_LINUX_FUTEX_H",
        "-DHAVE_LINUX_UDMABUF_H",
        "-DHAVE_MEMFD_CREATE",
        "-DHAVE_MKOSTEMP",
        "-DHAVE_OPENGL=1",
        "-DHAVE_OPENGL_ES_1=1",
        "-DHAVE_OPENGL_ES_2=1",
        "-DHAVE_OPENMP",
        "-DHAVE_POSIX_FALLOCATE",
        "-DHAVE_POSIX_MEMALIGN",
        "-DHAVE_PROGRAM_INVOCATION_NAME",
        "-DHAVE_PTHREAD",
        "-DHAVE_PTHREAD_SETAFFINITY",
        "-DHAVE_RANDOM_R",
        "-DHAVE_REALLOCARRAY",
        "-DHAVE_SECURE_GETENV",
        "-DHAVE_SPIRV_TOOLS",
        "-DHAVE_STRTOD_L",
        "-DHAVE_STRTOF",
        "-DHAVE_STRTOK_R",
        "-DHAVE_STRUCT_TIMESPEC",
        "-DHAVE_SYSCONF",
        "-DHAVE_SYS_INOTIFY_H",
        "-DHAVE_SYS_SHM_H",
        "-DHAVE_UINT128",
        "-DHAVE_VALGRIND",
        "-DHAVE_ZLIB",
        "-DHAVE_ZSTD",
        "-DHAVE___BUILTIN_ADD_OVERFLOW",
        "-DHAVE___BUILTIN_ADD_OVERFLOW_P",
        "-DHAVE___BUILTIN_BSWAP32",
        "-DHAVE___BUILTIN_BSWAP64",
        "-DHAVE___BUILTIN_CLZ",
        "-DHAVE___BUILTIN_CLZLL",
        "-DHAVE___BUILTIN_CTZ",
        "-DHAVE___BUILTIN_EXPECT",
        "-DHAVE___BUILTIN_FFS",
        "-DHAVE___BUILTIN_FFSLL",
        "-DHAVE___BUILTIN_IA32_CLFLUSHOPT",
        "-DHAVE___BUILTIN_POPCOUNT",
        "-DHAVE___BUILTIN_POPCOUNTLL",
        "-DHAVE___BUILTIN_SUB_OVERFLOW_P",
        "-DHAVE___BUILTIN_TYPES_COMPATIBLE_P",
        "-DHAVE___BUILTIN_UNREACHABLE",
        "-DLLVM_IS_SHARED=1",
        "-DMAJOR_IN_SYSMACROS",
        "-DMESA_DEBUG=0",
        "-DMESA_LLVM_VERSION_STRING=\"19.1.7\"",
        "-DMESA_SYSTEM_HAS_KMS_DRM=1",
        "-DNDEBUG",
        "-DPACKAGE_BUGREPORT=\"https://gitlab.freedesktop.org/mesa/mesa/-/issues\"",
        "-DPACKAGE_VERSION=\"25.3.0-devel\"",
        "-DTHREAD_SANITIZER=0",
        "-DUSE_GCC_ATOMIC_BUILTINS",
        "-DUSE_LIBELF",
        "-DUSE_LIBGLVND=0",
        "-DUSE_SSE41",
        "-DVIDEO_CODEC_AV1DEC=1",
        "-DVIDEO_CODEC_AV1ENC=1",
        "-DVIDEO_CODEC_H264DEC=0",
        "-DVIDEO_CODEC_H264ENC=0",
        "-DVIDEO_CODEC_H265DEC=0",
        "-DVIDEO_CODEC_H265ENC=0",
        "-DVIDEO_CODEC_VC1DEC=0",
        "-DVIDEO_CODEC_VP9DEC=1",
        "-D_FILE_OFFSET_BITS=64",
        "-D_GNU_SOURCE",
        "-D__STDC_CONSTANT_MACROS",
        "-D__STDC_FORMAT_MACROS",
        "-D__STDC_LIMIT_MACROS",
        "-Wall",
        "-Werror=empty-body",
        "-Werror=format",
        "-Werror=implicit-function-declaration",
        "-Werror=incompatible-pointer-types",
        "-Werror=int-conversion",
        "-Werror=missing-prototypes",
        "-Werror=pointer-arith",
        "-Werror=return-type",
        "-Werror=vla",
        "-Wformat-security",
        "-Wimplicit-fallthrough",
        "-Winvalid-pch",
        "-Wmisleading-indentation",
        "-Wno-error=maybe-uninitialized",
        "-Wno-format-truncation",
        "-Wno-missing-field-initializers",
        "-Wno-nonnull-compare",
        "-Wno-override-init",
        "-Wno-unknown-pragmas",
        "-Wno-unused-but-set-variable",
        "-Wno-unused-function",
        "-Wno-unused-variable",
    ],
    local_include_dirs: [
        "/usr/include/libdrm",
        "/usr/include/valgrind",
        "include",
        "src",
        "src/compiler",
        "src/compiler/nir",
        "src/compiler/spirv",
    ],
    generated_sources: [
        "mesa_clc_src_compiler_spirv_spirv_info_c",
        "mesa_clc_src_compiler_spirv_vtn_gather_types_c",
    ],
    generated_headers: [
        "mesa_clc_src_compiler_builtin_types_h",
        "mesa_clc_src_compiler_ir_expression_operation_h",
        "mesa_clc_src_compiler_nir_nir_builder_opcodes_h",
        "mesa_clc_src_compiler_nir_nir_intrinsics_h",
        "mesa_clc_src_compiler_nir_nir_intrinsics_indices_h",
        "mesa_clc_src_compiler_nir_nir_opcodes_h",
        "mesa_clc_src_compiler_spirv_spirv_info_h",
        "mesa_clc_src_compiler_spirv_vtn_generator_ids_h",
        "mesa_clc_src_util_format_u_format_gen_h",
        "mesa_clc_src_util_shader_stats_h",
    ],
}

cc_genrule {
    name: "mesa_clc_src_compiler_spirv_vtn_generator_ids_h",
    cmd: "python3 $(location) $(location src/compiler/spirv/spir-v.xml) $(location src/compiler/spirv/vtn_generator_ids.h)",
    srcs: ["src/compiler/spirv/spir-v.xml"],
    out: ["src/compiler/spirv/vtn_generator_ids.h"],
    tool_files: ["src/compiler/spirv/vtn_generator_ids_h.py"],
}

cc_genrule {
    name: "mesa_clc_src_compiler_spirv_spirv_info_h",
    cmd: "cp $(in) $(out)",
    srcs: [":mesa_clc_n2s_src_compiler_spirv_spirv_info_h{n2s/src/compiler/spirv/spirv_info.h}"],
    out: ["src/compiler/spirv/spirv_info.h"],
}

cc_genrule {
    name: "mesa_clc_n2s_src_compiler_spirv_spirv_info_h",
    cmd: "python3 $(location) --json $(location src/compiler/spirv/spirv.core.grammar.json) --out-h $(location n2s/src/compiler/spirv/spirv_info.h) --out-c $(location n2s/src/compiler/spirv/spirv_info.c)",
    srcs: ["src/compiler/spirv/spirv.core.grammar.json"],
    out: [
        "n2s/src/compiler/spirv/spirv_info.c",
        "n2s/src/compiler/spirv/spirv_info.h",
    ],
    tool_files: ["src/compiler/spirv/spirv_info_gen.py"],
}

genrule {
    name: "mesa_clc_src_compiler_nir_nir_intrinsics_py_cp",
    cmd: "cp $(in) $(out)",
    srcs: ["src/compiler/nir/nir_intrinsics.py"],
    out: ["nir_intrinsics.py"],
}

genrule {
    name: "mesa_clc_src_compiler_nir_nir_opcodes_py_cp",
    cmd: "cp $(in) $(out)",
    srcs: ["src/compiler/nir/nir_opcodes.py"],
    out: ["nir_opcodes.py"],
}

python_binary_host {
    name: "mesa_clc_src_compiler_nir_nir_opcodes_h_py",
    main: "src/compiler/nir/nir_opcodes_h.py",
    srcs: [
        ":mesa_clc_src_compiler_nir_nir_intrinsics_py_cp",
        ":mesa_clc_src_compiler_nir_nir_opcodes_py_cp",
        "src/compiler/nir/nir_opcodes_h.py",
    ],
}

cc_genrule {
    name: "mesa_clc_src_compiler_nir_nir_opcodes_h",
    cmd: "python3 $(location) > $(location src/compiler/nir/nir_opcodes.h)",
    srcs: [
        "src/compiler/nir/nir_intrinsics.py",
        "src/compiler/nir/nir_opcodes.py",
    ],
    out: ["src/compiler/nir/nir_opcodes.h"],
    tools: ["mesa_clc_src_compiler_nir_nir_opcodes_h_py"],
}

python_binary_host {
    name: "mesa_clc_src_compiler_nir_nir_intrinsics_indices_h_py",
    main: "src/compiler/nir/nir_intrinsics_indices_h.py",
    srcs: [
        ":mesa_clc_src_compiler_nir_nir_intrinsics_py_cp",
        "src/compiler/nir/nir_intrinsics_indices_h.py",
    ],
}

cc_genrule {
    name: "mesa_clc_src_compiler_nir_nir_intrinsics_indices_h",
    cmd: "python3 $(location) --outdir $$(dirname $(location src/compiler/nir/nir_intrinsics_indices.h))",
    srcs: ["src/compiler/nir/nir_intrinsics.py"],
    out: ["src/compiler/nir/nir_intrinsics_indices.h"],
    tools: ["mesa_clc_src_compiler_nir_nir_intrinsics_indices_h_py"],
}

python_binary_host {
    name: "mesa_clc_src_compiler_nir_nir_intrinsics_h_py",
    main: "src/compiler/nir/nir_intrinsics_h.py",
    srcs: [
        ":mesa_clc_src_compiler_nir_nir_intrinsics_py_cp",
        "src/compiler/nir/nir_intrinsics_h.py",
    ],
}

cc_genrule {
    name: "mesa_clc_src_compiler_nir_nir_intrinsics_h",
    cmd: "python3 $(location) --outdir $$(dirname $(location src/compiler/nir/nir_intrinsics.h))",
    srcs: ["src/compiler/nir/nir_intrinsics.py"],
    out: ["src/compiler/nir/nir_intrinsics.h"],
    tools: ["mesa_clc_src_compiler_nir_nir_intrinsics_h_py"],
}

python_binary_host {
    name: "mesa_clc_src_compiler_nir_nir_builder_opcodes_h_py",
    main: "src/compiler/nir/nir_builder_opcodes_h.py",
    srcs: [
        ":mesa_clc_src_compiler_nir_nir_intrinsics_py_cp",
        ":mesa_clc_src_compiler_nir_nir_opcodes_py_cp",
        "src/compiler/nir/nir_builder_opcodes_h.py",
    ],
}

cc_genrule {
    name: "mesa_clc_src_compiler_nir_nir_builder_opcodes_h",
    cmd: "python3 $(location) > $(location src/compiler/nir/nir_builder_opcodes.h)",
    srcs: [
        "src/compiler/nir/nir_intrinsics.py",
        "src/compiler/nir/nir_opcodes.py",
    ],
    out: ["src/compiler/nir/nir_builder_opcodes.h"],
    tools: ["mesa_clc_src_compiler_nir_nir_builder_opcodes_h_py"],
}

cc_genrule {
    name: "mesa_clc_src_compiler_ir_expression_operation_h",
    cmd: "python3 $(location) enum > $(location src/compiler/ir_expression_operation.h)",
    out: ["src/compiler/ir_expression_operation.h"],
    tool_files: ["src/compiler/glsl/ir_expression_operation.py"],
}

genrule {
    name: "mesa_clc_src_compiler_builtin_types_py_cp",
    cmd: "cp $(in) $(out)",
    srcs: ["src/compiler/builtin_types.py"],
    out: ["builtin_types.py"],
}

python_binary_host {
    name: "mesa_clc_src_compiler_builtin_types_h_py",
    main: "src/compiler/builtin_types_h.py",
    srcs: [
        ":mesa_clc_src_compiler_builtin_types_py_cp",
        "src/compiler/builtin_types_h.py",
    ],
}

cc_genrule {
    name: "mesa_clc_src_compiler_builtin_types_h",
    cmd: "python3 $(location) $(location src/compiler/builtin_types.h)",
    srcs: [
        ":mesa_clc_src_util_format_u_format_gen_h",
        "src/compiler/builtin_types.py",
    ],
    out: ["src/compiler/builtin_types.h"],
    tools: ["mesa_clc_src_compiler_builtin_types_h_py"],
}

cc_genrule {
    name: "mesa_clc_src_compiler_spirv_vtn_gather_types_c",
    cmd: "python3 $(location) $(location src/compiler/spirv/spirv.core.grammar.json) $(location src/compiler/spirv/vtn_gather_types.c)",
    srcs: ["src/compiler/spirv/spirv.core.grammar.json"],
    out: ["src/compiler/spirv/vtn_gather_types.c"],
    tool_files: ["src/compiler/spirv/vtn_gather_types_c.py"],
}

cc_genrule {
    name: "mesa_clc_src_compiler_spirv_spirv_info_c",
    cmd: "cp $(in) $(out)",
    srcs: [":mesa_clc_n2s_src_compiler_spirv_spirv_info_h{n2s/src/compiler/spirv/spirv_info.c}"],
    out: ["src/compiler/spirv/spirv_info.c"],
}

cc_library_static {
    name: "mesa_clc_src_compiler_nir_libnir_a",
    srcs: [
        "src/compiler/nir/nir.c",
        "src/compiler/nir/nir_builder.c",
        "src/compiler/nir/nir_builtin_builder.c",
        "src/compiler/nir/nir_clone.c",
        "src/compiler/nir/nir_control_flow.c",
        "src/compiler/nir/nir_deref.c",
        "src/compiler/nir/nir_divergence_analysis.c",
        "src/compiler/nir/nir_dominance.c",
        "src/compiler/nir/nir_dominance_lca.c",
        "src/compiler/nir/nir_fixup_is_exported.c",
        "src/compiler/nir/nir_format_convert.c",
        "src/compiler/nir/nir_from_ssa.c",
        "src/compiler/nir/nir_functions.c",
        "src/compiler/nir/nir_gather_info.c",
        "src/compiler/nir/nir_gather_output_deps.c",
        "src/compiler/nir/nir_gather_tcs_info.c",
        "src/compiler/nir/nir_gather_types.c",
        "src/compiler/nir/nir_gather_xfb_info.c",
        "src/compiler/nir/nir_gs_count_vertices.c",
        "src/compiler/nir/nir_inline_sysval.c",
        "src/compiler/nir/nir_inline_uniforms.c",
        "src/compiler/nir/nir_instr_set.c",
        "src/compiler/nir/nir_io_add_const_offset_to_base.c",
        "src/compiler/nir/nir_io_add_xfb_info.c",
        "src/compiler/nir/nir_legacy.c",
        "src/compiler/nir/nir_linking_helpers.c",
        "src/compiler/nir/nir_liveness.c",
        "src/compiler/nir/nir_loop_analyze.c",
        "src/compiler/nir/nir_lower_alpha.c",
        "src/compiler/nir/nir_lower_alu.c",
        "src/compiler/nir/nir_lower_alu_width.c",
        "src/compiler/nir/nir_lower_amul.c",
        "src/compiler/nir/nir_lower_array_deref_of_vec.c",
        "src/compiler/nir/nir_lower_atomics.c",
        "src/compiler/nir/nir_lower_atomics_to_ssbo.c",
        "src/compiler/nir/nir_lower_bit_size.c",
        "src/compiler/nir/nir_lower_bitmap.c",
        "src/compiler/nir/nir_lower_blend.c",
        "src/compiler/nir/nir_lower_bool_to_bitsize.c",
        "src/compiler/nir/nir_lower_bool_to_float.c",
        "src/compiler/nir/nir_lower_bool_to_int32.c",
        "src/compiler/nir/nir_lower_calls_to_builtins.c",
        "src/compiler/nir/nir_lower_cl_images.c",
        "src/compiler/nir/nir_lower_clamp_color_outputs.c",
        "src/compiler/nir/nir_lower_clip.c",
        "src/compiler/nir/nir_lower_clip_cull_distance_array_vars.c",
        "src/compiler/nir/nir_lower_clip_disable.c",
        "src/compiler/nir/nir_lower_clip_halfz.c",
        "src/compiler/nir/nir_lower_const_arrays_to_uniforms.c",
        "src/compiler/nir/nir_lower_continue_constructs.c",
        "src/compiler/nir/nir_lower_convert_alu_types.c",
        "src/compiler/nir/nir_lower_cooperative_matrix.c",
        "src/compiler/nir/nir_lower_discard_if.c",
        "src/compiler/nir/nir_lower_double_ops.c",
        "src/compiler/nir/nir_lower_explicit_io.c",
        "src/compiler/nir/nir_lower_fb_read.c",
        "src/compiler/nir/nir_lower_flatshade.c",
        "src/compiler/nir/nir_lower_flrp.c",
        "src/compiler/nir/nir_lower_fp16_conv.c",
        "src/compiler/nir/nir_lower_frag_coord_to_pixel_coord.c",
        "src/compiler/nir/nir_lower_fragcolor.c",
        "src/compiler/nir/nir_lower_fragcoord_wtrans.c",
        "src/compiler/nir/nir_lower_frexp.c",
        "src/compiler/nir/nir_lower_global_vars_to_local.c",
        "src/compiler/nir/nir_lower_goto_ifs.c",
        "src/compiler/nir/nir_lower_gs_intrinsics.c",
        "src/compiler/nir/nir_lower_halt_to_return.c",
        "src/compiler/nir/nir_lower_helper_writes.c",
        "src/compiler/nir/nir_lower_idiv.c",
        "src/compiler/nir/nir_lower_image.c",
        "src/compiler/nir/nir_lower_image_atomics_to_global.c",
        "src/compiler/nir/nir_lower_indirect_derefs.c",
        "src/compiler/nir/nir_lower_input_attachments.c",
        "src/compiler/nir/nir_lower_int64.c",
        "src/compiler/nir/nir_lower_int_to_float.c",
        "src/compiler/nir/nir_lower_interpolation.c",
        "src/compiler/nir/nir_lower_io.c",
        "src/compiler/nir/nir_lower_io_array_vars_to_elements.c",
        "src/compiler/nir/nir_lower_io_indirect_loads.c",
        "src/compiler/nir/nir_lower_io_to_scalar.c",
        "src/compiler/nir/nir_lower_io_vars_to_scalar.c",
        "src/compiler/nir/nir_lower_io_vars_to_temporaries.c",
        "src/compiler/nir/nir_lower_is_helper_invocation.c",
        "src/compiler/nir/nir_lower_load_const_to_scalar.c",
        "src/compiler/nir/nir_lower_locals_to_regs.c",
        "src/compiler/nir/nir_lower_mediump.c",
        "src/compiler/nir/nir_lower_mem_access_bit_sizes.c",
        "src/compiler/nir/nir_lower_memcpy.c",
        "src/compiler/nir/nir_lower_memory_model.c",
        "src/compiler/nir/nir_lower_multiview.c",
        "src/compiler/nir/nir_lower_non_uniform_access.c",
        "src/compiler/nir/nir_lower_packing.c",
        "src/compiler/nir/nir_lower_passthrough_edgeflags.c",
        "src/compiler/nir/nir_lower_patch_vertices.c",
        "src/compiler/nir/nir_lower_phis_to_scalar.c",
        "src/compiler/nir/nir_lower_pntc_ytransform.c",
        "src/compiler/nir/nir_lower_point_size.c",
        "src/compiler/nir/nir_lower_point_smooth.c",
        "src/compiler/nir/nir_lower_poly_line_smooth.c",
        "src/compiler/nir/nir_lower_printf.c",
        "src/compiler/nir/nir_lower_readonly_images_to_tex.c",
        "src/compiler/nir/nir_lower_reg_intrinsics_to_ssa.c",
        "src/compiler/nir/nir_lower_returns.c",
        "src/compiler/nir/nir_lower_robust_access.c",
        "src/compiler/nir/nir_lower_sample_shading.c",
        "src/compiler/nir/nir_lower_samplers.c",
        "src/compiler/nir/nir_lower_scratch.c",
        "src/compiler/nir/nir_lower_scratch_to_var.c",
        "src/compiler/nir/nir_lower_shader_calls.c",
        "src/compiler/nir/nir_lower_single_sampled.c",
        "src/compiler/nir/nir_lower_ssbo.c",
        "src/compiler/nir/nir_lower_subgroups.c",
        "src/compiler/nir/nir_lower_system_values.c",
        "src/compiler/nir/nir_lower_sysvals_to_varyings.c",
        "src/compiler/nir/nir_lower_task_shader.c",
        "src/compiler/nir/nir_lower_terminate_to_demote.c",
        "src/compiler/nir/nir_lower_tess_coord_z.c",
        "src/compiler/nir/nir_lower_tex.c",
        "src/compiler/nir/nir_lower_tex_shadow.c",
        "src/compiler/nir/nir_lower_texcoord_replace.c",
        "src/compiler/nir/nir_lower_texcoord_replace_late.c",
        "src/compiler/nir/nir_lower_two_sided_color.c",
        "src/compiler/nir/nir_lower_ubo_vec4.c",
        "src/compiler/nir/nir_lower_undef_to_zero.c",
        "src/compiler/nir/nir_lower_uniforms_to_ubo.c",
        "src/compiler/nir/nir_lower_var_copies.c",
        "src/compiler/nir/nir_lower_variable_initializers.c",
        "src/compiler/nir/nir_lower_vars_to_ssa.c",
        "src/compiler/nir/nir_lower_vec3_to_vec4.c",
        "src/compiler/nir/nir_lower_vec_to_regs.c",
        "src/compiler/nir/nir_lower_view_index_to_device_index.c",
        "src/compiler/nir/nir_lower_viewport_transform.c",
        "src/compiler/nir/nir_lower_wpos_center.c",
        "src/compiler/nir/nir_lower_wpos_ytransform.c",
        "src/compiler/nir/nir_lower_wrmasks.c",
        "src/compiler/nir/nir_metadata.c",
        "src/compiler/nir/nir_mod_analysis.c",
        "src/compiler/nir/nir_move_output_stores_to_end.c",
        "src/compiler/nir/nir_move_vec_src_uses_to_dest.c",
        "src/compiler/nir/nir_normalize_cubemap_coords.c",
        "src/compiler/nir/nir_opt_access.c",
        "src/compiler/nir/nir_opt_barriers.c",
        "src/compiler/nir/nir_opt_call.c",
        "src/compiler/nir/nir_opt_clip_cull_const.c",
        "src/compiler/nir/nir_opt_combine_stores.c",
        "src/compiler/nir/nir_opt_comparison_pre.c",
        "src/compiler/nir/nir_opt_constant_folding.c",
        "src/compiler/nir/nir_opt_copy_prop_vars.c",
        "src/compiler/nir/nir_opt_copy_propagate.c",
        "src/compiler/nir/nir_opt_cse.c",
        "src/compiler/nir/nir_opt_dce.c",
        "src/compiler/nir/nir_opt_dead_cf.c",
        "src/compiler/nir/nir_opt_dead_write_vars.c",
        "src/compiler/nir/nir_opt_find_array_copies.c",
        "src/compiler/nir/nir_opt_frag_coord_to_pixel_coord.c",
        "src/compiler/nir/nir_opt_fragdepth.c",
        "src/compiler/nir/nir_opt_gcm.c",
        "src/compiler/nir/nir_opt_generate_bfi.c",
        "src/compiler/nir/nir_opt_group_loads.c",
        "src/compiler/nir/nir_opt_idiv_const.c",
        "src/compiler/nir/nir_opt_if.c",
        "src/compiler/nir/nir_opt_intrinsics.c",
        "src/compiler/nir/nir_opt_large_constants.c",
        "src/compiler/nir/nir_opt_licm.c",
        "src/compiler/nir/nir_opt_load_skip_helpers.c",
        "src/compiler/nir/nir_opt_load_store_vectorize.c",
        "src/compiler/nir/nir_opt_loop.c",
        "src/compiler/nir/nir_opt_loop_unroll.c",
        "src/compiler/nir/nir_opt_memcpy.c",
        "src/compiler/nir/nir_opt_move.c",
        "src/compiler/nir/nir_opt_move_discards_to_top.c",
        "src/compiler/nir/nir_opt_move_to_top.c",
        "src/compiler/nir/nir_opt_mqsad.c",
        "src/compiler/nir/nir_opt_non_uniform_access.c",
        "src/compiler/nir/nir_opt_offsets.c",
        "src/compiler/nir/nir_opt_peephole_select.c",
        "src/compiler/nir/nir_opt_phi_precision.c",
        "src/compiler/nir/nir_opt_phi_to_bool.c",
        "src/compiler/nir/nir_opt_preamble.c",
        "src/compiler/nir/nir_opt_ray_queries.c",
        "src/compiler/nir/nir_opt_reassociate.c",
        "src/compiler/nir/nir_opt_reassociate_bfi.c",
        "src/compiler/nir/nir_opt_rematerialize_compares.c",
        "src/compiler/nir/nir_opt_remove_phis.c",
        "src/compiler/nir/nir_opt_shrink_stores.c",
        "src/compiler/nir/nir_opt_shrink_vectors.c",
        "src/compiler/nir/nir_opt_sink.c",
        "src/compiler/nir/nir_opt_undef.c",
        "src/compiler/nir/nir_opt_uniform_atomics.c",
        "src/compiler/nir/nir_opt_uniform_subgroup.c",
        "src/compiler/nir/nir_opt_varyings.c",
        "src/compiler/nir/nir_opt_vectorize.c",
        "src/compiler/nir/nir_opt_vectorize_io.c",
        "src/compiler/nir/nir_opt_vectorize_io_vars.c",
        "src/compiler/nir/nir_passthrough_gs.c",
        "src/compiler/nir/nir_passthrough_tcs.c",
        "src/compiler/nir/nir_phi_builder.c",
        "src/compiler/nir/nir_print.c",
        "src/compiler/nir/nir_propagate_invariant.c",
        "src/compiler/nir/nir_range_analysis.c",
        "src/compiler/nir/nir_recompute_io_bases.c",
        "src/compiler/nir/nir_remove_dead_variables.c",
        "src/compiler/nir/nir_remove_tex_shadow.c",
        "src/compiler/nir/nir_repair_ssa.c",
        "src/compiler/nir/nir_scale_fdiv.c",
        "src/compiler/nir/nir_schedule.c",
        "src/compiler/nir/nir_search.c",
        "src/compiler/nir/nir_serialize.c",
        "src/compiler/nir/nir_split_64bit_vec3_and_vec4.c",
        "src/compiler/nir/nir_split_conversions.c",
        "src/compiler/nir/nir_split_per_member_structs.c",
        "src/compiler/nir/nir_split_var_copies.c",
        "src/compiler/nir/nir_split_vars.c",
        "src/compiler/nir/nir_sweep.c",
        "src/compiler/nir/nir_to_lcssa.c",
        "src/compiler/nir/nir_trivialize_registers.c",
        "src/compiler/nir/nir_unlower_io_to_vars.c",
        "src/compiler/nir/nir_use_dominance.c",
        "src/compiler/nir/nir_validate.c",
        "src/compiler/nir/nir_worklist.c",
    ],
    cflags: [
        "-DALLOW_KCMP",
        "-DAMD_LLVM_AVAILABLE=1",
        "-DDRAW_LLVM_AVAILABLE=1",
        "-DENABLE_SHADER_CACHE",
        "-DGALLIVM_USE_ORCJIT=0",
        "-DGLAPI_EXPORT_PROTO_ENTRY_POINTS=1",
        "-DHAS_SCHED_GETAFFINITY",
        "-DHAS_SCHED_H",
        "-DHAVE_CET_H",
        "-DHAVE_COMPRESSION",
        "-DHAVE_DIRENT_D_TYPE",
        "-DHAVE_DLADDR",
        "-DHAVE_DLFCN_H",
        "-DHAVE_DL_ITERATE_PHDR",
        "-DHAVE_ENDIAN_H",
        "-DHAVE_FLOCK",
        "-DHAVE_FMEMOPEN",
        "-DHAVE_FUNC_ATTRIBUTE_ALIAS",
        "-DHAVE_FUNC_ATTRIBUTE_COLD",
        "-DHAVE_FUNC_ATTRIBUTE_CONST",
        "-DHAVE_FUNC_ATTRIBUTE_FLATTEN",
        "-DHAVE_FUNC_ATTRIBUTE_FORMAT",
        "-DHAVE_FUNC_ATTRIBUTE_MALLOC",
        "-DHAVE_FUNC_ATTRIBUTE_NORETURN",
        "-DHAVE_FUNC_ATTRIBUTE_OPTIMIZE",
        "-DHAVE_FUNC_ATTRIBUTE_PACKED",
        "-DHAVE_FUNC_ATTRIBUTE_PURE",
        "-DHAVE_FUNC_ATTRIBUTE_RETURNS_NONNULL",
        "-DHAVE_FUNC_ATTRIBUTE_UNUSED",
        "-DHAVE_FUNC_ATTRIBUTE_VISIBILITY",
        "-DHAVE_FUNC_ATTRIBUTE_WARN_UNUSED_RESULT",
        "-DHAVE_FUNC_ATTRIBUTE_WEAK",
        "-DHAVE_GETRANDOM",
        "-DHAVE_GNU_QSORT_R",
        "-DHAVE_ISSIGNALING",
        "-DHAVE_LIBDRM",
        "-DHAVE_LIBUDEV",
        "-DHAVE_LINUX_FUTEX_H",
        "-DHAVE_LINUX_UDMABUF_H",
        "-DHAVE_MEMFD_CREATE",
        "-DHAVE_MKOSTEMP",
        "-DHAVE_OPENGL=1",
        "-DHAVE_OPENGL_ES_1=1",
        "-DHAVE_OPENGL_ES_2=1",
        "-DHAVE_OPENMP",
        "-DHAVE_POSIX_FALLOCATE",
        "-DHAVE_POSIX_MEMALIGN",
        "-DHAVE_PROGRAM_INVOCATION_NAME",
        "-DHAVE_PTHREAD",
        "-DHAVE_PTHREAD_SETAFFINITY",
        "-DHAVE_RANDOM_R",
        "-DHAVE_REALLOCARRAY",
        "-DHAVE_SECURE_GETENV",
        "-DHAVE_SPIRV_TOOLS",
        "-DHAVE_STRTOD_L",
        "-DHAVE_STRTOF",
        "-DHAVE_STRTOK_R",
        "-DHAVE_STRUCT_TIMESPEC",
        "-DHAVE_SYSCONF",
        "-DHAVE_SYS_INOTIFY_H",
        "-DHAVE_SYS_SHM_H",
        "-DHAVE_UINT128",
        "-DHAVE_VALGRIND",
        "-DHAVE_ZLIB",
        "-DHAVE_ZSTD",
        "-DHAVE___BUILTIN_ADD_OVERFLOW",
        "-DHAVE___BUILTIN_ADD_OVERFLOW_P",
        "-DHAVE___BUILTIN_BSWAP32",
        "-DHAVE___BUILTIN_BSWAP64",
        "-DHAVE___BUILTIN_CLZ",
        "-DHAVE___BUILTIN_CLZLL",
        "-DHAVE___BUILTIN_CTZ",
        "-DHAVE___BUILTIN_EXPECT",
        "-DHAVE___BUILTIN_FFS",
        "-DHAVE___BUILTIN_FFSLL",
        "-DHAVE___BUILTIN_IA32_CLFLUSHOPT",
        "-DHAVE___BUILTIN_POPCOUNT",
        "-DHAVE___BUILTIN_POPCOUNTLL",
        "-DHAVE___BUILTIN_SUB_OVERFLOW_P",
        "-DHAVE___BUILTIN_TYPES_COMPATIBLE_P",
        "-DHAVE___BUILTIN_UNREACHABLE",
        "-DLLVM_IS_SHARED=1",
        "-DMAJOR_IN_SYSMACROS",
        "-DMESA_DEBUG=0",
        "-DMESA_LLVM_VERSION_STRING=\"19.1.7\"",
        "-DMESA_SYSTEM_HAS_KMS_DRM=1",
        "-DNDEBUG",
        "-DPACKAGE_BUGREPORT=\"https://gitlab.freedesktop.org/mesa/mesa/-/issues\"",
        "-DPACKAGE_VERSION=\"25.3.0-devel\"",
        "-DTHREAD_SANITIZER=0",
        "-DUSE_GCC_ATOMIC_BUILTINS",
        "-DUSE_LIBELF",
        "-DUSE_LIBGLVND=0",
        "-DUSE_SSE41",
        "-DVIDEO_CODEC_AV1DEC=1",
        "-DVIDEO_CODEC_AV1ENC=1",
        "-DVIDEO_CODEC_H264DEC=0",
        "-DVIDEO_CODEC_H264ENC=0",
        "-DVIDEO_CODEC_H265DEC=0",
        "-DVIDEO_CODEC_H265ENC=0",
        "-DVIDEO_CODEC_VC1DEC=0",
        "-DVIDEO_CODEC_VP9DEC=1",
        "-D_FILE_OFFSET_BITS=64",
        "-D_GNU_SOURCE",
        "-D__STDC_CONSTANT_MACROS",
        "-D__STDC_FORMAT_MACROS",
        "-D__STDC_LIMIT_MACROS",
        "-Wall",
        "-Werror=empty-body",
        "-Werror=format",
        "-Werror=implicit-function-declaration",
        "-Werror=incompatible-pointer-types",
        "-Werror=int-conversion",
        "-Werror=missing-prototypes",
        "-Werror=pointer-arith",
        "-Werror=return-type",
        "-Werror=vla",
        "-Wformat-security",
        "-Wimplicit-fallthrough",
        "-Winvalid-pch",
        "-Wmisleading-indentation",
        "-Wno-error=maybe-uninitialized",
        "-Wno-format-truncation",
        "-Wno-misleading-indentation",
        "-Wno-missing-field-initializers",
        "-Wno-nonnull-compare",
        "-Wno-override-init",
        "-Wno-unknown-pragmas",
        "-Wno-unused-but-set-variable",
        "-Wno-unused-function",
        "-Wno-unused-variable",
    ],
    local_include_dirs: [
        "/usr/include/libdrm",
        "/usr/include/valgrind",
        "include",
        "src",
        "src/compiler",
        "src/compiler/nir",
    ],
    generated_sources: [
        "mesa_clc_src_compiler_nir_nir_constant_expressions_c",
        "mesa_clc_src_compiler_nir_nir_intrinsics_c",
        "mesa_clc_src_compiler_nir_nir_opcodes_c",
        "mesa_clc_src_compiler_nir_nir_opt_algebraic_c",
    ],
    generated_headers: [
        "mesa_clc_src_compiler_builtin_types_h",
        "mesa_clc_src_compiler_ir_expression_operation_h",
        "mesa_clc_src_compiler_nir_nir_builder_opcodes_h",
        "mesa_clc_src_compiler_nir_nir_intrinsics_h",
        "mesa_clc_src_compiler_nir_nir_intrinsics_indices_h",
        "mesa_clc_src_compiler_nir_nir_opcodes_h",
        "mesa_clc_src_util_format_u_format_gen_h",
        "mesa_clc_src_util_shader_stats_h",
    ],
}

python_binary_host {
    name: "mesa_clc_src_compiler_nir_nir_intrinsics_c_py",
    main: "src/compiler/nir/nir_intrinsics_c.py",
    srcs: [
        ":mesa_clc_src_compiler_nir_nir_intrinsics_py_cp",
        "src/compiler/nir/nir_intrinsics_c.py",
    ],
}

cc_genrule {
    name: "mesa_clc_src_compiler_nir_nir_intrinsics_c",
    cmd: "python3 $(location) --outdir $$(dirname $(location src/compiler/nir/nir_intrinsics.c))",
    srcs: ["src/compiler/nir/nir_intrinsics.py"],
    out: ["src/compiler/nir/nir_intrinsics.c"],
    tools: ["mesa_clc_src_compiler_nir_nir_intrinsics_c_py"],
}

python_binary_host {
    name: "mesa_clc_src_compiler_nir_nir_constant_expressions_py",
    main: "src/compiler/nir/nir_constant_expressions.py",
    srcs: [
        ":mesa_clc_src_compiler_nir_nir_intrinsics_py_cp",
        ":mesa_clc_src_compiler_nir_nir_opcodes_py_cp",
        "src/compiler/nir/nir_constant_expressions.py",
    ],
}

cc_genrule {
    name: "mesa_clc_src_compiler_nir_nir_constant_expressions_c",
    cmd: "python3 $(location) > $(location src/compiler/nir/nir_constant_expressions.c)",
    srcs: [
        "src/compiler/nir/nir_intrinsics.py",
        "src/compiler/nir/nir_opcodes.py",
    ],
    out: ["src/compiler/nir/nir_constant_expressions.c"],
    tools: ["mesa_clc_src_compiler_nir_nir_constant_expressions_py"],
}

python_binary_host {
    name: "mesa_clc_src_compiler_nir_nir_opcodes_c_py",
    main: "src/compiler/nir/nir_opcodes_c.py",
    srcs: [
        ":mesa_clc_src_compiler_nir_nir_intrinsics_py_cp",
        ":mesa_clc_src_compiler_nir_nir_opcodes_py_cp",
        "src/compiler/nir/nir_opcodes_c.py",
    ],
}

cc_genrule {
    name: "mesa_clc_src_compiler_nir_nir_opcodes_c",
    cmd: "python3 $(location) > $(location src/compiler/nir/nir_opcodes.c)",
    srcs: [
        "src/compiler/nir/nir_intrinsics.py",
        "src/compiler/nir/nir_opcodes.py",
    ],
    out: ["src/compiler/nir/nir_opcodes.c"],
    tools: ["mesa_clc_src_compiler_nir_nir_opcodes_c_py"],
}

genrule {
    name: "mesa_clc_src_compiler_nir_nir_algebraic_py_cp",
    cmd: "cp $(in) $(out)",
    srcs: ["src/compiler/nir/nir_algebraic.py"],
    out: ["nir_algebraic.py"],
}

python_binary_host {
    name: "mesa_clc_src_compiler_nir_nir_opt_algebraic_py",
    main: "src/compiler/nir/nir_opt_algebraic.py",
    srcs: [
        ":mesa_clc_src_compiler_nir_nir_algebraic_py_cp",
        ":mesa_clc_src_compiler_nir_nir_opcodes_py_cp",
        "src/compiler/nir/nir_opt_algebraic.py",
    ],
}

cc_genrule {
    name: "mesa_clc_src_compiler_nir_nir_opt_algebraic_c",
    cmd: "python3 $(location) --out $(location src/compiler/nir/nir_opt_algebraic.c)",
    srcs: [
        "src/compiler/nir/nir_algebraic.py",
        "src/compiler/nir/nir_opcodes.py",
    ],
    out: ["src/compiler/nir/nir_opt_algebraic.c"],
    tools: ["mesa_clc_src_compiler_nir_nir_opt_algebraic_py"],
}

cc_library_static {
    name: "mesa_clc_src_compiler_libcompiler_a",
    srcs: [
        "src/compiler/glsl_types.c",
        "src/compiler/shader_enums.c",
    ],
    cflags: [
        "-DALLOW_KCMP",
        "-DAMD_LLVM_AVAILABLE=1",
        "-DDRAW_LLVM_AVAILABLE=1",
        "-DENABLE_SHADER_CACHE",
        "-DGALLIVM_USE_ORCJIT=0",
        "-DGLAPI_EXPORT_PROTO_ENTRY_POINTS=1",
        "-DHAS_SCHED_GETAFFINITY",
        "-DHAS_SCHED_H",
        "-DHAVE_CET_H",
        "-DHAVE_COMPRESSION",
        "-DHAVE_DIRENT_D_TYPE",
        "-DHAVE_DLADDR",
        "-DHAVE_DLFCN_H",
        "-DHAVE_DL_ITERATE_PHDR",
        "-DHAVE_ENDIAN_H",
        "-DHAVE_FLOCK",
        "-DHAVE_FMEMOPEN",
        "-DHAVE_FUNC_ATTRIBUTE_ALIAS",
        "-DHAVE_FUNC_ATTRIBUTE_COLD",
        "-DHAVE_FUNC_ATTRIBUTE_CONST",
        "-DHAVE_FUNC_ATTRIBUTE_FLATTEN",
        "-DHAVE_FUNC_ATTRIBUTE_FORMAT",
        "-DHAVE_FUNC_ATTRIBUTE_MALLOC",
        "-DHAVE_FUNC_ATTRIBUTE_NORETURN",
        "-DHAVE_FUNC_ATTRIBUTE_OPTIMIZE",
        "-DHAVE_FUNC_ATTRIBUTE_PACKED",
        "-DHAVE_FUNC_ATTRIBUTE_PURE",
        "-DHAVE_FUNC_ATTRIBUTE_RETURNS_NONNULL",
        "-DHAVE_FUNC_ATTRIBUTE_UNUSED",
        "-DHAVE_FUNC_ATTRIBUTE_VISIBILITY",
        "-DHAVE_FUNC_ATTRIBUTE_WARN_UNUSED_RESULT",
        "-DHAVE_FUNC_ATTRIBUTE_WEAK",
        "-DHAVE_GETRANDOM",
        "-DHAVE_GNU_QSORT_R",
        "-DHAVE_ISSIGNALING",
        "-DHAVE_LIBDRM",
        "-DHAVE_LIBUDEV",
        "-DHAVE_LINUX_FUTEX_H",
        "-DHAVE_LINUX_UDMABUF_H",
        "-DHAVE_MEMFD_CREATE",
        "-DHAVE_MKOSTEMP",
        "-DHAVE_OPENGL=1",
        "-DHAVE_OPENGL_ES_1=1",
        "-DHAVE_OPENGL_ES_2=1",
        "-DHAVE_OPENMP",
        "-DHAVE_POSIX_FALLOCATE",
        "-DHAVE_POSIX_MEMALIGN",
        "-DHAVE_PROGRAM_INVOCATION_NAME",
        "-DHAVE_PTHREAD",
        "-DHAVE_PTHREAD_SETAFFINITY",
        "-DHAVE_RANDOM_R",
        "-DHAVE_REALLOCARRAY",
        "-DHAVE_SECURE_GETENV",
        "-DHAVE_SPIRV_TOOLS",
        "-DHAVE_STRTOD_L",
        "-DHAVE_STRTOF",
        "-DHAVE_STRTOK_R",
        "-DHAVE_STRUCT_TIMESPEC",
        "-DHAVE_SYSCONF",
        "-DHAVE_SYS_INOTIFY_H",
        "-DHAVE_SYS_SHM_H",
        "-DHAVE_UINT128",
        "-DHAVE_VALGRIND",
        "-DHAVE_ZLIB",
        "-DHAVE_ZSTD",
        "-DHAVE___BUILTIN_ADD_OVERFLOW",
        "-DHAVE___BUILTIN_ADD_OVERFLOW_P",
        "-DHAVE___BUILTIN_BSWAP32",
        "-DHAVE___BUILTIN_BSWAP64",
        "-DHAVE___BUILTIN_CLZ",
        "-DHAVE___BUILTIN_CLZLL",
        "-DHAVE___BUILTIN_CTZ",
        "-DHAVE___BUILTIN_EXPECT",
        "-DHAVE___BUILTIN_FFS",
        "-DHAVE___BUILTIN_FFSLL",
        "-DHAVE___BUILTIN_IA32_CLFLUSHOPT",
        "-DHAVE___BUILTIN_POPCOUNT",
        "-DHAVE___BUILTIN_POPCOUNTLL",
        "-DHAVE___BUILTIN_SUB_OVERFLOW_P",
        "-DHAVE___BUILTIN_TYPES_COMPATIBLE_P",
        "-DHAVE___BUILTIN_UNREACHABLE",
        "-DLLVM_IS_SHARED=1",
        "-DMAJOR_IN_SYSMACROS",
        "-DMESA_DEBUG=0",
        "-DMESA_LLVM_VERSION_STRING=\"19.1.7\"",
        "-DMESA_SYSTEM_HAS_KMS_DRM=1",
        "-DNDEBUG",
        "-DPACKAGE_BUGREPORT=\"https://gitlab.freedesktop.org/mesa/mesa/-/issues\"",
        "-DPACKAGE_VERSION=\"25.3.0-devel\"",
        "-DTHREAD_SANITIZER=0",
        "-DUSE_GCC_ATOMIC_BUILTINS",
        "-DUSE_LIBELF",
        "-DUSE_LIBGLVND=0",
        "-DUSE_SSE41",
        "-DVIDEO_CODEC_AV1DEC=1",
        "-DVIDEO_CODEC_AV1ENC=1",
        "-DVIDEO_CODEC_H264DEC=0",
        "-DVIDEO_CODEC_H264ENC=0",
        "-DVIDEO_CODEC_H265DEC=0",
        "-DVIDEO_CODEC_H265ENC=0",
        "-DVIDEO_CODEC_VC1DEC=0",
        "-DVIDEO_CODEC_VP9DEC=1",
        "-D_FILE_OFFSET_BITS=64",
        "-D_GNU_SOURCE",
        "-D__STDC_CONSTANT_MACROS",
        "-D__STDC_FORMAT_MACROS",
        "-D__STDC_LIMIT_MACROS",
        "-Wall",
        "-Werror=empty-body",
        "-Werror=format",
        "-Werror=implicit-function-declaration",
        "-Werror=incompatible-pointer-types",
        "-Werror=int-conversion",
        "-Werror=missing-prototypes",
        "-Werror=pointer-arith",
        "-Werror=return-type",
        "-Werror=vla",
        "-Wformat-security",
        "-Wimplicit-fallthrough",
        "-Winvalid-pch",
        "-Wmisleading-indentation",
        "-Wno-error=maybe-uninitialized",
        "-Wno-format-truncation",
        "-Wno-missing-field-initializers",
        "-Wno-nonnull-compare",
        "-Wno-override-init",
        "-Wno-unknown-pragmas",
        "-Wno-unused-but-set-variable",
        "-Wno-unused-function",
        "-Wno-unused-variable",
    ],
    local_include_dirs: [
        "/usr/include/valgrind",
        "include",
        "src",
        "src/compiler",
    ],
    generated_sources: ["mesa_clc_src_compiler_builtin_types_c"],
    generated_headers: [
        "mesa_clc_src_compiler_builtin_types_h",
        "mesa_clc_src_compiler_ir_expression_operation_h",
        "mesa_clc_src_util_format_u_format_gen_h",
    ],
}

python_binary_host {
    name: "mesa_clc_src_compiler_builtin_types_c_py",
    main: "src/compiler/builtin_types_c.py",
    srcs: [
        ":mesa_clc_src_compiler_builtin_types_py_cp",
        "src/compiler/builtin_types_c.py",
    ],
}

cc_genrule {
    name: "mesa_clc_src_compiler_builtin_types_c",
    cmd: "python3 $(location) $(location src/compiler/builtin_types.c)",
    srcs: ["src/compiler/builtin_types.py"],
    out: ["src/compiler/builtin_types.c"],
    tools: ["mesa_clc_src_compiler_builtin_types_c_py"],
}

cc_library_static {
    name: "mesa_clc_src_c11_impl_libmesa_util_c11_a",
    srcs: [
        "src/c11/impl/threads_posix.c",
        "src/c11/impl/time.c",
    ],
    cflags: [
        "-DALLOW_KCMP",
        "-DAMD_LLVM_AVAILABLE=1",
        "-DDRAW_LLVM_AVAILABLE=1",
        "-DENABLE_SHADER_CACHE",
        "-DGALLIVM_USE_ORCJIT=0",
        "-DGLAPI_EXPORT_PROTO_ENTRY_POINTS=1",
        "-DHAS_SCHED_GETAFFINITY",
        "-DHAS_SCHED_H",
        "-DHAVE_CET_H",
        "-DHAVE_COMPRESSION",
        "-DHAVE_DIRENT_D_TYPE",
        "-DHAVE_DLADDR",
        "-DHAVE_DLFCN_H",
        "-DHAVE_DL_ITERATE_PHDR",
        "-DHAVE_ENDIAN_H",
        "-DHAVE_FLOCK",
        "-DHAVE_FMEMOPEN",
        "-DHAVE_FUNC_ATTRIBUTE_ALIAS",
        "-DHAVE_FUNC_ATTRIBUTE_COLD",
        "-DHAVE_FUNC_ATTRIBUTE_CONST",
        "-DHAVE_FUNC_ATTRIBUTE_FLATTEN",
        "-DHAVE_FUNC_ATTRIBUTE_FORMAT",
        "-DHAVE_FUNC_ATTRIBUTE_MALLOC",
        "-DHAVE_FUNC_ATTRIBUTE_NORETURN",
        "-DHAVE_FUNC_ATTRIBUTE_OPTIMIZE",
        "-DHAVE_FUNC_ATTRIBUTE_PACKED",
        "-DHAVE_FUNC_ATTRIBUTE_PURE",
        "-DHAVE_FUNC_ATTRIBUTE_RETURNS_NONNULL",
        "-DHAVE_FUNC_ATTRIBUTE_UNUSED",
        "-DHAVE_FUNC_ATTRIBUTE_VISIBILITY",
        "-DHAVE_FUNC_ATTRIBUTE_WARN_UNUSED_RESULT",
        "-DHAVE_FUNC_ATTRIBUTE_WEAK",
        "-DHAVE_GETRANDOM",
        "-DHAVE_GNU_QSORT_R",
        "-DHAVE_ISSIGNALING",
        "-DHAVE_LIBDRM",
        "-DHAVE_LIBUDEV",
        "-DHAVE_LINUX_FUTEX_H",
        "-DHAVE_LINUX_UDMABUF_H",
        "-DHAVE_MEMFD_CREATE",
        "-DHAVE_MKOSTEMP",
        "-DHAVE_OPENGL=1",
        "-DHAVE_OPENGL_ES_1=1",
        "-DHAVE_OPENGL_ES_2=1",
        "-DHAVE_OPENMP",
        "-DHAVE_POSIX_FALLOCATE",
        "-DHAVE_POSIX_MEMALIGN",
        "-DHAVE_PROGRAM_INVOCATION_NAME",
        "-DHAVE_PTHREAD",
        "-DHAVE_PTHREAD_SETAFFINITY",
        "-DHAVE_RANDOM_R",
        "-DHAVE_REALLOCARRAY",
        "-DHAVE_SECURE_GETENV",
        "-DHAVE_SPIRV_TOOLS",
        "-DHAVE_STRTOD_L",
        "-DHAVE_STRTOF",
        "-DHAVE_STRTOK_R",
        "-DHAVE_STRUCT_TIMESPEC",
        "-DHAVE_SYSCONF",
        "-DHAVE_SYS_INOTIFY_H",
        "-DHAVE_SYS_SHM_H",
        "-DHAVE_UINT128",
        "-DHAVE_VALGRIND",
        "-DHAVE_ZLIB",
        "-DHAVE_ZSTD",
        "-DHAVE___BUILTIN_ADD_OVERFLOW",
        "-DHAVE___BUILTIN_ADD_OVERFLOW_P",
        "-DHAVE___BUILTIN_BSWAP32",
        "-DHAVE___BUILTIN_BSWAP64",
        "-DHAVE___BUILTIN_CLZ",
        "-DHAVE___BUILTIN_CLZLL",
        "-DHAVE___BUILTIN_CTZ",
        "-DHAVE___BUILTIN_EXPECT",
        "-DHAVE___BUILTIN_FFS",
        "-DHAVE___BUILTIN_FFSLL",
        "-DHAVE___BUILTIN_IA32_CLFLUSHOPT",
        "-DHAVE___BUILTIN_POPCOUNT",
        "-DHAVE___BUILTIN_POPCOUNTLL",
        "-DHAVE___BUILTIN_SUB_OVERFLOW_P",
        "-DHAVE___BUILTIN_TYPES_COMPATIBLE_P",
        "-DHAVE___BUILTIN_UNREACHABLE",
        "-DLLVM_IS_SHARED=1",
        "-DMAJOR_IN_SYSMACROS",
        "-DMESA_DEBUG=0",
        "-DMESA_LLVM_VERSION_STRING=\"19.1.7\"",
        "-DMESA_SYSTEM_HAS_KMS_DRM=1",
        "-DNDEBUG",
        "-DPACKAGE_BUGREPORT=\"https://gitlab.freedesktop.org/mesa/mesa/-/issues\"",
        "-DPACKAGE_VERSION=\"25.3.0-devel\"",
        "-DTHREAD_SANITIZER=0",
        "-DUSE_GCC_ATOMIC_BUILTINS",
        "-DUSE_LIBELF",
        "-DUSE_LIBGLVND=0",
        "-DUSE_SSE41",
        "-DVIDEO_CODEC_AV1DEC=1",
        "-DVIDEO_CODEC_AV1ENC=1",
        "-DVIDEO_CODEC_H264DEC=0",
        "-DVIDEO_CODEC_H264ENC=0",
        "-DVIDEO_CODEC_H265DEC=0",
        "-DVIDEO_CODEC_H265ENC=0",
        "-DVIDEO_CODEC_VC1DEC=0",
        "-DVIDEO_CODEC_VP9DEC=1",
        "-D_FILE_OFFSET_BITS=64",
        "-D_GNU_SOURCE",
        "-D__STDC_CONSTANT_MACROS",
        "-D__STDC_FORMAT_MACROS",
        "-D__STDC_LIMIT_MACROS",
        "-Wall",
        "-Werror=empty-body",
        "-Werror=format",
        "-Werror=implicit-function-declaration",
        "-Werror=incompatible-pointer-types",
        "-Werror=int-conversion",
        "-Werror=missing-prototypes",
        "-Werror=pointer-arith",
        "-Werror=return-type",
        "-Werror=vla",
        "-Wformat-security",
        "-Wimplicit-fallthrough",
        "-Winvalid-pch",
        "-Wmisleading-indentation",
        "-Wno-error=maybe-uninitialized",
        "-Wno-format-truncation",
        "-Wno-missing-field-initializers",
        "-Wno-nonnull-compare",
        "-Wno-unknown-pragmas",
        "-Wno-unused-but-set-variable",
        "-Wno-unused-function",
        "-Wno-unused-variable",
    ],
    local_include_dirs: [
        "src",
        "src/c11/impl",
    ],
}

cc_library_shared {
    name: "mesa_clc_src_compiler_clc_mesa_clc",
    srcs: ["src/compiler/clc/mesa_clc.c"],
    cflags: [
        "-DALLOW_KCMP",
        "-DAMD_LLVM_AVAILABLE=1",
        "-DDRAW_LLVM_AVAILABLE=1",
        "-DENABLE_SHADER_CACHE",
        "-DGALLIVM_USE_ORCJIT=0",
        "-DGLAPI_EXPORT_PROTO_ENTRY_POINTS=1",
        "-DHAS_SCHED_GETAFFINITY",
        "-DHAS_SCHED_H",
        "-DHAVE_CET_H",
        "-DHAVE_COMPRESSION",
        "-DHAVE_DIRENT_D_TYPE",
        "-DHAVE_DLADDR",
        "-DHAVE_DLFCN_H",
        "-DHAVE_DL_ITERATE_PHDR",
        "-DHAVE_ENDIAN_H",
        "-DHAVE_FLOCK",
        "-DHAVE_FMEMOPEN",
        "-DHAVE_FUNC_ATTRIBUTE_ALIAS",
        "-DHAVE_FUNC_ATTRIBUTE_COLD",
        "-DHAVE_FUNC_ATTRIBUTE_CONST",
        "-DHAVE_FUNC_ATTRIBUTE_FLATTEN",
        "-DHAVE_FUNC_ATTRIBUTE_FORMAT",
        "-DHAVE_FUNC_ATTRIBUTE_MALLOC",
        "-DHAVE_FUNC_ATTRIBUTE_NORETURN",
        "-DHAVE_FUNC_ATTRIBUTE_OPTIMIZE",
        "-DHAVE_FUNC_ATTRIBUTE_PACKED",
        "-DHAVE_FUNC_ATTRIBUTE_PURE",
        "-DHAVE_FUNC_ATTRIBUTE_RETURNS_NONNULL",
        "-DHAVE_FUNC_ATTRIBUTE_UNUSED",
        "-DHAVE_FUNC_ATTRIBUTE_VISIBILITY",
        "-DHAVE_FUNC_ATTRIBUTE_WARN_UNUSED_RESULT",
        "-DHAVE_FUNC_ATTRIBUTE_WEAK",
        "-DHAVE_GETRANDOM",
        "-DHAVE_GNU_QSORT_R",
        "-DHAVE_ISSIGNALING",
        "-DHAVE_LIBDRM",
        "-DHAVE_LIBUDEV",
        "-DHAVE_LINUX_FUTEX_H",
        "-DHAVE_LINUX_UDMABUF_H",
        "-DHAVE_MEMFD_CREATE",
        "-DHAVE_MKOSTEMP",
        "-DHAVE_OPENGL=1",
        "-DHAVE_OPENGL_ES_1=1",
        "-DHAVE_OPENGL_ES_2=1",
        "-DHAVE_OPENMP",
        "-DHAVE_POSIX_FALLOCATE",
        "-DHAVE_POSIX_MEMALIGN",
        "-DHAVE_PROGRAM_INVOCATION_NAME",
        "-DHAVE_PTHREAD",
        "-DHAVE_PTHREAD_SETAFFINITY",
        "-DHAVE_RANDOM_R",
        "-DHAVE_REALLOCARRAY",
        "-DHAVE_SECURE_GETENV",
        "-DHAVE_SPIRV_TOOLS",
        "-DHAVE_STRTOD_L",
        "-DHAVE_STRTOF",
        "-DHAVE_STRTOK_R",
        "-DHAVE_STRUCT_TIMESPEC",
        "-DHAVE_SYSCONF",
        "-DHAVE_SYS_INOTIFY_H",
        "-DHAVE_SYS_SHM_H",
        "-DHAVE_UINT128",
        "-DHAVE_VALGRIND",
        "-DHAVE_ZLIB",
        "-DHAVE_ZSTD",
        "-DHAVE___BUILTIN_ADD_OVERFLOW",
        "-DHAVE___BUILTIN_ADD_OVERFLOW_P",
        "-DHAVE___BUILTIN_BSWAP32",
        "-DHAVE___BUILTIN_BSWAP64",
        "-DHAVE___BUILTIN_CLZ",
        "-DHAVE___BUILTIN_CLZLL",
        "-DHAVE___BUILTIN_CTZ",
        "-DHAVE___BUILTIN_EXPECT",
        "-DHAVE___BUILTIN_FFS",
        "-DHAVE___BUILTIN_FFSLL",
        "-DHAVE___BUILTIN_IA32_CLFLUSHOPT",
        "-DHAVE___BUILTIN_POPCOUNT",
        "-DHAVE___BUILTIN_POPCOUNTLL",
        "-DHAVE___BUILTIN_SUB_OVERFLOW_P",
        "-DHAVE___BUILTIN_TYPES_COMPATIBLE_P",
        "-DHAVE___BUILTIN_UNREACHABLE",
        "-DLLVM_IS_SHARED=1",
        "-DMAJOR_IN_SYSMACROS",
        "-DMESA_DEBUG=0",
        "-DMESA_LLVM_VERSION_STRING=\"19.1.7\"",
        "-DMESA_SYSTEM_HAS_KMS_DRM=1",
        "-DNDEBUG",
        "-DPACKAGE_BUGREPORT=\"https://gitlab.freedesktop.org/mesa/mesa/-/issues\"",
        "-DPACKAGE_VERSION=\"25.3.0-devel\"",
        "-DTHREAD_SANITIZER=0",
        "-DUSE_GCC_ATOMIC_BUILTINS",
        "-DUSE_LIBELF",
        "-DUSE_LIBGLVND=0",
        "-DUSE_SSE41",
        "-DVIDEO_CODEC_AV1DEC=1",
        "-DVIDEO_CODEC_AV1ENC=1",
        "-DVIDEO_CODEC_H264DEC=0",
        "-DVIDEO_CODEC_H264ENC=0",
        "-DVIDEO_CODEC_H265DEC=0",
        "-DVIDEO_CODEC_H265ENC=0",
        "-DVIDEO_CODEC_VC1DEC=0",
        "-DVIDEO_CODEC_VP9DEC=1",
        "-D_FILE_OFFSET_BITS=64",
        "-D_GNU_SOURCE",
        "-D__STDC_CONSTANT_MACROS",
        "-D__STDC_FORMAT_MACROS",
        "-D__STDC_LIMIT_MACROS",
        "-Wall",
        "-Werror=empty-body",
        "-Werror=format",
        "-Werror=implicit-function-declaration",
        "-Werror=incompatible-pointer-types",
        "-Werror=int-conversion",
        "-Werror=missing-prototypes",
        "-Werror=return-type",
        "-Wformat-security",
        "-Wimplicit-fallthrough",
        "-Winvalid-pch",
        "-Wmisleading-indentation",
        "-Wno-error=maybe-uninitialized",
        "-Wno-format-truncation",
        "-Wno-missing-field-initializers",
        "-Wno-nonnull-compare",
        "-Wno-override-init",
        "-Wno-unknown-pragmas",
        "-Wno-unused-but-set-variable",
        "-Wno-unused-function",
        "-Wno-unused-variable",
    ],
    shared_libs: [
        "_usr_lib_llvm-19_lib_libclang-cpp_so",
        "_usr_lib_x86_64-linux-gnu_libLLVMSPIRVLib_so",
        "_usr_lib_x86_64-linux-gnu_libdrm_so",
        "_usr_lib_x86_64-linux-gnu_libz_so",
        "_usr_lib_x86_64-linux-gnu_libzstd_so",
        "mesa_clc_libLLVM-19",
    ],
    static_libs: [
        "_usr_lib_x86_64-linux-gnu_libSPIRV-Tools-link_a",
        "_usr_lib_x86_64-linux-gnu_libSPIRV-Tools-opt_a",
        "_usr_lib_x86_64-linux-gnu_libSPIRV-Tools_a",
        "mesa_clc_src_c11_impl_libmesa_util_c11_a",
        "mesa_clc_src_compiler_clc_liblibmesaclc_a",
        "mesa_clc_src_compiler_libcompiler_a",
        "mesa_clc_src_compiler_nir_libnir_a",
        "mesa_clc_src_compiler_spirv_libvtn_a",
        "mesa_clc_src_util_blake3_libblake3_a",
        "mesa_clc_src_util_libmesa_util_a",
        "mesa_clc_src_util_libmesa_util_simd_a",
    ],
    local_include_dirs: [
        "include",
        "src",
        "src/compiler/clc",
    ],
    generated_headers: [
        "mesa_clc_src_compiler_builtin_types_h",
        "mesa_clc_src_compiler_ir_expression_operation_h",
        "mesa_clc_src_compiler_nir_nir_builder_opcodes_h",
        "mesa_clc_src_compiler_nir_nir_intrinsics_h",
        "mesa_clc_src_compiler_nir_nir_intrinsics_indices_h",
        "mesa_clc_src_compiler_nir_nir_opcodes_h",
        "mesa_clc_src_compiler_spirv_spirv_info_h",
        "mesa_clc_src_compiler_spirv_vtn_generator_ids_h",
        "mesa_clc_src_util_format_u_format_gen_h",
        "mesa_clc_src_util_format_u_format_pack_h",
        "mesa_clc_src_util_shader_stats_h",
    ],
}

cc_library_static {
    name: "mesa_clc_src_compiler_clc_liblibmesaclc_a",
    srcs: [
        "src/compiler/clc/clc.c",
        "src/compiler/clc/clc_helpers.cpp",
        "src/compiler/clc/nir_load_libclc.c",
    ],
    cflags: [
        "-DALLOW_KCMP",
        "-DAMD_LLVM_AVAILABLE=1",
        "-DDRAW_LLVM_AVAILABLE=1",
        "-DDYNAMIC_LIBCLC_PATH=\"/usr/lib/clc/\"",
        "-DENABLE_SHADER_CACHE",
        "-DGALLIVM_USE_ORCJIT=0",
        "-DGLAPI_EXPORT_PROTO_ENTRY_POINTS=1",
        "-DHAS_SCHED_GETAFFINITY",
        "-DHAS_SCHED_H",
        "-DHAS_SPIRV_LINK_LLVM_WORKAROUND=1",
        "-DHAVE_CET_H",
        "-DHAVE_COMPRESSION",
        "-DHAVE_DIRENT_D_TYPE",
        "-DHAVE_DLADDR",
        "-DHAVE_DLFCN_H",
        "-DHAVE_DL_ITERATE_PHDR",
        "-DHAVE_ENDIAN_H",
        "-DHAVE_FLOCK",
        "-DHAVE_FMEMOPEN",
        "-DHAVE_FUNC_ATTRIBUTE_ALIAS",
        "-DHAVE_FUNC_ATTRIBUTE_COLD",
        "-DHAVE_FUNC_ATTRIBUTE_CONST",
        "-DHAVE_FUNC_ATTRIBUTE_FLATTEN",
        "-DHAVE_FUNC_ATTRIBUTE_FORMAT",
        "-DHAVE_FUNC_ATTRIBUTE_MALLOC",
        "-DHAVE_FUNC_ATTRIBUTE_NORETURN",
        "-DHAVE_FUNC_ATTRIBUTE_OPTIMIZE",
        "-DHAVE_FUNC_ATTRIBUTE_PACKED",
        "-DHAVE_FUNC_ATTRIBUTE_PURE",
        "-DHAVE_FUNC_ATTRIBUTE_RETURNS_NONNULL",
        "-DHAVE_FUNC_ATTRIBUTE_UNUSED",
        "-DHAVE_FUNC_ATTRIBUTE_VISIBILITY",
        "-DHAVE_FUNC_ATTRIBUTE_WARN_UNUSED_RESULT",
        "-DHAVE_FUNC_ATTRIBUTE_WEAK",
        "-DHAVE_GETRANDOM",
        "-DHAVE_GNU_QSORT_R",
        "-DHAVE_ISSIGNALING",
        "-DHAVE_LIBDRM",
        "-DHAVE_LIBUDEV",
        "-DHAVE_LINUX_FUTEX_H",
        "-DHAVE_LINUX_UDMABUF_H",
        "-DHAVE_MEMFD_CREATE",
        "-DHAVE_MKOSTEMP",
        "-DHAVE_OPENGL=1",
        "-DHAVE_OPENGL_ES_1=1",
        "-DHAVE_OPENGL_ES_2=1",
        "-DHAVE_OPENMP",
        "-DHAVE_POSIX_FALLOCATE",
        "-DHAVE_POSIX_MEMALIGN",
        "-DHAVE_PROGRAM_INVOCATION_NAME",
        "-DHAVE_PTHREAD",
        "-DHAVE_PTHREAD_SETAFFINITY",
        "-DHAVE_RANDOM_R",
        "-DHAVE_REALLOCARRAY",
        "-DHAVE_SECURE_GETENV",
        "-DHAVE_SPIRV_TOOLS",
        "-DHAVE_STRTOD_L",
        "-DHAVE_STRTOF",
        "-DHAVE_STRTOK_R",
        "-DHAVE_STRUCT_TIMESPEC",
        "-DHAVE_SYSCONF",
        "-DHAVE_SYS_INOTIFY_H",
        "-DHAVE_SYS_SHM_H",
        "-DHAVE_UINT128",
        "-DHAVE_VALGRIND",
        "-DHAVE_ZLIB",
        "-DHAVE_ZSTD",
        "-DHAVE___BUILTIN_ADD_OVERFLOW",
        "-DHAVE___BUILTIN_ADD_OVERFLOW_P",
        "-DHAVE___BUILTIN_BSWAP32",
        "-DHAVE___BUILTIN_BSWAP64",
        "-DHAVE___BUILTIN_CLZ",
        "-DHAVE___BUILTIN_CLZLL",
        "-DHAVE___BUILTIN_CTZ",
        "-DHAVE___BUILTIN_EXPECT",
        "-DHAVE___BUILTIN_FFS",
        "-DHAVE___BUILTIN_FFSLL",
        "-DHAVE___BUILTIN_IA32_CLFLUSHOPT",
        "-DHAVE___BUILTIN_POPCOUNT",
        "-DHAVE___BUILTIN_POPCOUNTLL",
        "-DHAVE___BUILTIN_SUB_OVERFLOW_P",
        "-DHAVE___BUILTIN_TYPES_COMPATIBLE_P",
        "-DHAVE___BUILTIN_UNREACHABLE",
        "-DLLVM_IS_SHARED=1",
        "-DLLVM_LIB_DIR=\"/usr/lib/llvm-19/lib\"",
        "-DMAJOR_IN_SYSMACROS",
        "-DMESA_DEBUG=0",
        "-DMESA_LLVM_VERSION_STRING=\"19.1.7\"",
        "-DMESA_SYSTEM_HAS_KMS_DRM=1",
        "-DNDEBUG",
        "-DPACKAGE_BUGREPORT=\"https://gitlab.freedesktop.org/mesa/mesa/-/issues\"",
        "-DPACKAGE_VERSION=\"25.3.0-devel\"",
        "-DTHREAD_SANITIZER=0",
        "-DUSE_GCC_ATOMIC_BUILTINS",
        "-DUSE_LIBELF",
        "-DUSE_LIBGLVND=0",
        "-DUSE_SSE41",
        "-DVIDEO_CODEC_AV1DEC=1",
        "-DVIDEO_CODEC_AV1ENC=1",
        "-DVIDEO_CODEC_H264DEC=0",
        "-DVIDEO_CODEC_H264ENC=0",
        "-DVIDEO_CODEC_H265DEC=0",
        "-DVIDEO_CODEC_H265ENC=0",
        "-DVIDEO_CODEC_VC1DEC=0",
        "-DVIDEO_CODEC_VP9DEC=1",
        "-D_FILE_OFFSET_BITS=64",
        "-D_GNU_SOURCE",
        "-D__STDC_CONSTANT_MACROS",
        "-D__STDC_FORMAT_MACROS",
        "-D__STDC_LIMIT_MACROS",
        "-Wall",
        "-Werror=empty-body",
        "-Werror=format",
        "-Werror=implicit-function-declaration",
        "-Werror=incompatible-pointer-types",
        "-Werror=int-conversion",
        "-Werror=missing-prototypes",
        "-Werror=return-type",
        "-Wformat-security",
        "-Wimplicit-fallthrough",
        "-Winvalid-pch",
        "-Wmisleading-indentation",
        "-Wno-error=maybe-uninitialized",
        "-Wno-format-truncation",
        "-Wno-missing-field-initializers",
        "-Wno-non-virtual-dtor",
        "-Wno-nonnull-compare",
        "-Wno-unknown-pragmas",
        "-Wno-unused-but-set-variable",
        "-Wno-unused-function",
        "-Wno-unused-variable",
    ],
    local_include_dirs: [
        "/usr/include/libdrm",
        "/usr/include/valgrind",
        "include",
        "src",
        "src/compiler",
        "src/compiler/clc",
        "src/compiler/nir",
        "src/compiler/spirv",
    ],
    generated_headers: [
        "mesa_clc_src_compiler_builtin_types_h",
        "mesa_clc_src_compiler_ir_expression_operation_h",
        "mesa_clc_src_compiler_nir_nir_builder_opcodes_h",
        "mesa_clc_src_compiler_nir_nir_intrinsics_h",
        "mesa_clc_src_compiler_nir_nir_intrinsics_indices_h",
        "mesa_clc_src_compiler_nir_nir_opcodes_h",
        "mesa_clc_src_compiler_spirv_spirv_info_h",
        "mesa_clc_src_util_format_u_format_gen_h",
        "mesa_clc_src_util_shader_stats_h",
    ],
}
